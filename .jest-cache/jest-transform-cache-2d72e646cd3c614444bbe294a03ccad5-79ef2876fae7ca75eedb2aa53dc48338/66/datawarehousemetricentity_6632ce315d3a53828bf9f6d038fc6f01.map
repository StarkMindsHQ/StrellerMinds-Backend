{"file":"C:\\Users\\g-ekoh\\Desktop\\StrellerMinds-Backend\\src\\analytic\\entities\\data-warehouse-metric.entity.ts","mappings":";;;;;;;;;;;;;AAAA,qCAA2G;AAE3G,IAAY,UAKX;AALD,WAAY,UAAU;IACpB,iCAAmB,CAAA;IACnB,6BAAe,CAAA;IACf,qCAAuB,CAAA;IACvB,iCAAmB,CAAA;AACrB,CAAC,EALW,UAAU,0BAAV,UAAU,QAKrB;AAED,IAAY,eAMX;AAND,WAAY,eAAe;IACzB,8BAAW,CAAA;IACX,8BAAW,CAAA;IACX,kCAAe,CAAA;IACf,8BAAW,CAAA;IACX,8BAAW,CAAA;AACb,CAAC,EANW,eAAe,+BAAf,eAAe,QAM1B;AAMM,IAAM,mBAAmB,GAAzB,MAAM,mBAAmB;CAwC/B,CAAA;AAxCY,kDAAmB;AAE9B;IADC,IAAA,gCAAsB,EAAC,MAAM,CAAC;;+CACrB;AAGV;IADC,IAAA,gBAAM,GAAE;;uDACS;AAMlB;IAJC,IAAA,gBAAM,EAAC;QACN,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,UAAU;KACjB,CAAC;;uDACoB;AAGtB;IADC,IAAA,gBAAM,EAAC,SAAS,EAAE,EAAE,SAAS,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;;kDAClC;AAGb;IADC,IAAA,gBAAM,EAAC,OAAO,CAAC;kDACJ,MAAM,oBAAN,MAAM;uDAAgB;AAGlC;IADC,IAAA,gBAAM,EAAC,OAAO,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;kDAC7B,MAAM,oBAAN,MAAM;iDAAgB;AAG7B;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,CAAC;kDACnB,IAAI,oBAAJ,IAAI;sDAAA;AAOf;IALC,IAAA,gBAAM,EAAC;QACN,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,eAAe;QACrB,OAAO,EAAE,eAAe,CAAC,GAAG;KAC7B,CAAC;;4DAC8B;AAGhC;IADC,IAAA,gBAAM,EAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;wDACP;AAGnB;IADC,IAAA,0BAAgB,GAAE;kDACR,IAAI,oBAAJ,IAAI;sDAAA;AAGf;IADC,IAAA,0BAAgB,GAAE;kDACR,IAAI,oBAAJ,IAAI;sDAAA;8BAvCJ,mBAAmB;IAJ/B,IAAA,gBAAM,EAAC,wBAAwB,CAAC;IAChC,IAAA,eAAK,EAAC,CAAC,YAAY,EAAE,WAAW,CAAC,CAAC;IAClC,IAAA,eAAK,EAAC,CAAC,YAAY,EAAE,WAAW,CAAC,CAAC;IAClC,IAAA,eAAK,EAAC,CAAC,YAAY,EAAE,WAAW,CAAC,CAAC;GACtB,mBAAmB,CAwC/B","names":[],"sources":["C:\\Users\\g-ekoh\\Desktop\\StrellerMinds-Backend\\src\\analytic\\entities\\data-warehouse-metric.entity.ts"],"sourcesContent":["import { Entity, PrimaryGeneratedColumn, Column, CreateDateColumn, UpdateDateColumn, Index } from \"typeorm\"\r\n\r\nexport enum MetricType {\r\n  COUNTER = \"counter\",\r\n  GAUGE = \"gauge\",\r\n  HISTOGRAM = \"histogram\",\r\n  SUMMARY = \"summary\",\r\n}\r\n\r\nexport enum AggregationType {\r\n  SUM = \"sum\",\r\n  AVG = \"avg\",\r\n  COUNT = \"count\",\r\n  MIN = \"min\",\r\n  MAX = \"max\",\r\n}\r\n\r\n@Entity(\"data_warehouse_metrics\")\r\n@Index([\"metricName\", \"timestamp\"])\r\n@Index([\"metricType\", \"timestamp\"])\r\n@Index([\"dimensions\", \"timestamp\"])\r\nexport class DataWarehouseMetric {\r\n  @PrimaryGeneratedColumn(\"uuid\")\r\n  id: string\r\n\r\n  @Column()\r\n  metricName: string\r\n\r\n  @Column({\r\n    type: \"enum\",\r\n    enum: MetricType,\r\n  })\r\n  metricType: MetricType\r\n\r\n  @Column(\"decimal\", { precision: 15, scale: 4 })\r\n  value: number\r\n\r\n  @Column(\"jsonb\")\r\n  dimensions: Record<string, string>\r\n\r\n  @Column(\"jsonb\", { nullable: true })\r\n  tags?: Record<string, string>\r\n\r\n  @Column({ type: \"timestamp\" })\r\n  timestamp: Date\r\n\r\n  @Column({\r\n    type: \"enum\",\r\n    enum: AggregationType,\r\n    default: AggregationType.SUM,\r\n  })\r\n  aggregationType: AggregationType\r\n\r\n  @Column({ default: \"1h\" })\r\n  granularity: string\r\n\r\n  @CreateDateColumn()\r\n  createdAt: Date\r\n\r\n  @UpdateDateColumn()\r\n  updatedAt: Date\r\n}\r\n"],"version":3}