87687b9145096dbc5af9c775b93cc5db
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var _a, _b, _c, _d;
Object.defineProperty(exports, "__esModule", { value: true });
exports.DeletionRequest = exports.DeletionStatus = void 0;
const typeorm_1 = require("typeorm");
const swagger_1 = require("@nestjs/swagger");
/**
 * Enum for deletion request status.
 */
var DeletionStatus;
(function (DeletionStatus) {
    DeletionStatus["PENDING"] = "pending";
    DeletionStatus["IN_PROGRESS"] = "in_progress";
    DeletionStatus["COMPLETED"] = "completed";
    DeletionStatus["FAILED"] = "failed";
    DeletionStatus["CANCELLED"] = "cancelled";
})(DeletionStatus || (exports.DeletionStatus = DeletionStatus = {}));
/**
 * Entity representing a deletion request.
 */
let DeletionRequest = class DeletionRequest {
};
exports.DeletionRequest = DeletionRequest;
__decorate([
    (0, swagger_1.ApiProperty)({ description: 'Deletion request ID', example: 'uuid-v4' }),
    (0, typeorm_1.PrimaryGeneratedColumn)('uuid'),
    __metadata("design:type", String)
], DeletionRequest.prototype, "id", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({ description: 'User ID', example: 'uuid-user' }),
    (0, typeorm_1.Column)('uuid'),
    __metadata("design:type", String)
], DeletionRequest.prototype, "userId", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        enum: DeletionStatus,
        description: 'Deletion status',
        example: DeletionStatus.PENDING,
    }),
    (0, typeorm_1.Column)({
        type: 'enum',
        enum: DeletionStatus,
        default: DeletionStatus.PENDING,
    }),
    __metadata("design:type", String)
], DeletionRequest.prototype, "status", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)({ description: 'Reason for deletion' }),
    (0, typeorm_1.Column)({ type: 'text', nullable: true }),
    __metadata("design:type", String)
], DeletionRequest.prototype, "reason", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)({ description: 'Data types to delete', type: [String] }),
    (0, typeorm_1.Column)({ type: 'json', nullable: true }),
    __metadata("design:type", Array)
], DeletionRequest.prototype, "dataTypes", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)({
        description: 'Scheduled deletion date',
        type: String,
        format: 'date-time',
    }),
    (0, typeorm_1.Column)({ type: 'timestamp', nullable: true }),
    __metadata("design:type", typeof (_a = typeof Date !== "undefined" && Date) === "function" ? _a : Object)
], DeletionRequest.prototype, "scheduledAt", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)({
        description: 'Date/time when deletion was completed',
        type: String,
        format: 'date-time',
    }),
    (0, typeorm_1.Column)({ type: 'timestamp', nullable: true }),
    __metadata("design:type", typeof (_b = typeof Date !== "undefined" && Date) === "function" ? _b : Object)
], DeletionRequest.prototype, "completedAt", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)({
        description: 'Notes',
        example: 'User requested expedited deletion',
    }),
    (0, typeorm_1.Column)({ type: 'text', nullable: true }),
    __metadata("design:type", String)
], DeletionRequest.prototype, "notes", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Date/time when the request was created',
        type: String,
        format: 'date-time',
        example: '2025-06-29T12:00:00Z',
    }),
    (0, typeorm_1.CreateDateColumn)(),
    __metadata("design:type", typeof (_c = typeof Date !== "undefined" && Date) === "function" ? _c : Object)
], DeletionRequest.prototype, "createdAt", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({
        description: 'Date/time when the request was last updated',
        type: String,
        format: 'date-time',
        example: '2025-06-29T12:10:00Z',
    }),
    (0, typeorm_1.UpdateDateColumn)(),
    __metadata("design:type", typeof (_d = typeof Date !== "undefined" && Date) === "function" ? _d : Object)
], DeletionRequest.prototype, "updatedAt", void 0);
exports.DeletionRequest = DeletionRequest = __decorate([
    (0, typeorm_1.Entity)('deletion_requests')
], DeletionRequest);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxnLWVrb2hcXERlc2t0b3BcXFN0cmVsbGVyTWluZHMtQmFja2VuZFxcc3JjXFxnZHByXFxlbnRpdGllc1xcZGVsZXRpb24tcmVxdWVzdC5lbnRpdHkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBLHFDQU1pQjtBQUNqQiw2Q0FBbUU7QUFFbkU7O0dBRUc7QUFDSCxJQUFZLGNBTVg7QUFORCxXQUFZLGNBQWM7SUFDeEIscUNBQW1CLENBQUE7SUFDbkIsNkNBQTJCLENBQUE7SUFDM0IseUNBQXVCLENBQUE7SUFDdkIsbUNBQWlCLENBQUE7SUFDakIseUNBQXVCLENBQUE7QUFDekIsQ0FBQyxFQU5XLGNBQWMsOEJBQWQsY0FBYyxRQU16QjtBQUVEOztHQUVHO0FBRUksSUFBTSxlQUFlLEdBQXJCLE1BQU0sZUFBZTtDQStFM0IsQ0FBQTtBQS9FWSwwQ0FBZTtBQUkxQjtJQUZDLElBQUEscUJBQVcsRUFBQyxFQUFFLFdBQVcsRUFBRSxxQkFBcUIsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLENBQUM7SUFDdkUsSUFBQSxnQ0FBc0IsRUFBQyxNQUFNLENBQUM7OzJDQUNwQjtBQUtYO0lBRkMsSUFBQSxxQkFBVyxFQUFDLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsV0FBVyxFQUFFLENBQUM7SUFDN0QsSUFBQSxnQkFBTSxFQUFDLE1BQU0sQ0FBQzs7K0NBQ0E7QUFhZjtJQVZDLElBQUEscUJBQVcsRUFBQztRQUNYLElBQUksRUFBRSxjQUFjO1FBQ3BCLFdBQVcsRUFBRSxpQkFBaUI7UUFDOUIsT0FBTyxFQUFFLGNBQWMsQ0FBQyxPQUFPO0tBQ2hDLENBQUM7SUFDRCxJQUFBLGdCQUFNLEVBQUM7UUFDTixJQUFJLEVBQUUsTUFBTTtRQUNaLElBQUksRUFBRSxjQUFjO1FBQ3BCLE9BQU8sRUFBRSxjQUFjLENBQUMsT0FBTztLQUNoQyxDQUFDOzsrQ0FDcUI7QUFLdkI7SUFGQyxJQUFBLDZCQUFtQixFQUFDLEVBQUUsV0FBVyxFQUFFLHFCQUFxQixFQUFFLENBQUM7SUFDM0QsSUFBQSxnQkFBTSxFQUFDLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUM7OytDQUMxQjtBQUtmO0lBRkMsSUFBQSw2QkFBbUIsRUFBQyxFQUFFLFdBQVcsRUFBRSxzQkFBc0IsRUFBRSxJQUFJLEVBQUUsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO0lBQzVFLElBQUEsZ0JBQU0sRUFBQyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxDQUFDOztrREFDckI7QUFTcEI7SUFOQyxJQUFBLDZCQUFtQixFQUFDO1FBQ25CLFdBQVcsRUFBRSx5QkFBeUI7UUFDdEMsSUFBSSxFQUFFLE1BQU07UUFDWixNQUFNLEVBQUUsV0FBVztLQUNwQixDQUFDO0lBQ0QsSUFBQSxnQkFBTSxFQUFDLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUM7a0RBQ2pDLElBQUksb0JBQUosSUFBSTtvREFBQztBQVNsQjtJQU5DLElBQUEsNkJBQW1CLEVBQUM7UUFDbkIsV0FBVyxFQUFFLHVDQUF1QztRQUNwRCxJQUFJLEVBQUUsTUFBTTtRQUNaLE1BQU0sRUFBRSxXQUFXO0tBQ3BCLENBQUM7SUFDRCxJQUFBLGdCQUFNLEVBQUMsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQztrREFDakMsSUFBSSxvQkFBSixJQUFJO29EQUFDO0FBUWxCO0lBTEMsSUFBQSw2QkFBbUIsRUFBQztRQUNuQixXQUFXLEVBQUUsT0FBTztRQUNwQixPQUFPLEVBQUUsbUNBQW1DO0tBQzdDLENBQUM7SUFDRCxJQUFBLGdCQUFNLEVBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQzs7OENBQzNCO0FBVWQ7SUFQQyxJQUFBLHFCQUFXLEVBQUM7UUFDWCxXQUFXLEVBQUUsd0NBQXdDO1FBQ3JELElBQUksRUFBRSxNQUFNO1FBQ1osTUFBTSxFQUFFLFdBQVc7UUFDbkIsT0FBTyxFQUFFLHNCQUFzQjtLQUNoQyxDQUFDO0lBQ0QsSUFBQSwwQkFBZ0IsR0FBRTtrREFDUixJQUFJLG9CQUFKLElBQUk7a0RBQUM7QUFVaEI7SUFQQyxJQUFBLHFCQUFXLEVBQUM7UUFDWCxXQUFXLEVBQUUsNkNBQTZDO1FBQzFELElBQUksRUFBRSxNQUFNO1FBQ1osTUFBTSxFQUFFLFdBQVc7UUFDbkIsT0FBTyxFQUFFLHNCQUFzQjtLQUNoQyxDQUFDO0lBQ0QsSUFBQSwwQkFBZ0IsR0FBRTtrREFDUixJQUFJLG9CQUFKLElBQUk7a0RBQUM7MEJBOUVMLGVBQWU7SUFEM0IsSUFBQSxnQkFBTSxFQUFDLG1CQUFtQixDQUFDO0dBQ2YsZUFBZSxDQStFM0IiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxnLWVrb2hcXERlc2t0b3BcXFN0cmVsbGVyTWluZHMtQmFja2VuZFxcc3JjXFxnZHByXFxlbnRpdGllc1xcZGVsZXRpb24tcmVxdWVzdC5lbnRpdHkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBFbnRpdHksXHJcbiAgUHJpbWFyeUdlbmVyYXRlZENvbHVtbixcclxuICBDb2x1bW4sXHJcbiAgQ3JlYXRlRGF0ZUNvbHVtbixcclxuICBVcGRhdGVEYXRlQ29sdW1uLFxyXG59IGZyb20gJ3R5cGVvcm0nO1xyXG5pbXBvcnQgeyBBcGlQcm9wZXJ0eSwgQXBpUHJvcGVydHlPcHRpb25hbCB9IGZyb20gJ0BuZXN0anMvc3dhZ2dlcic7XHJcblxyXG4vKipcclxuICogRW51bSBmb3IgZGVsZXRpb24gcmVxdWVzdCBzdGF0dXMuXHJcbiAqL1xyXG5leHBvcnQgZW51bSBEZWxldGlvblN0YXR1cyB7XHJcbiAgUEVORElORyA9ICdwZW5kaW5nJyxcclxuICBJTl9QUk9HUkVTUyA9ICdpbl9wcm9ncmVzcycsXHJcbiAgQ09NUExFVEVEID0gJ2NvbXBsZXRlZCcsXHJcbiAgRkFJTEVEID0gJ2ZhaWxlZCcsXHJcbiAgQ0FOQ0VMTEVEID0gJ2NhbmNlbGxlZCcsXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBFbnRpdHkgcmVwcmVzZW50aW5nIGEgZGVsZXRpb24gcmVxdWVzdC5cclxuICovXHJcbkBFbnRpdHkoJ2RlbGV0aW9uX3JlcXVlc3RzJylcclxuZXhwb3J0IGNsYXNzIERlbGV0aW9uUmVxdWVzdCB7XHJcbiAgLyoqIERlbGV0aW9uIHJlcXVlc3QgSUQgKi9cclxuICBAQXBpUHJvcGVydHkoeyBkZXNjcmlwdGlvbjogJ0RlbGV0aW9uIHJlcXVlc3QgSUQnLCBleGFtcGxlOiAndXVpZC12NCcgfSlcclxuICBAUHJpbWFyeUdlbmVyYXRlZENvbHVtbigndXVpZCcpXHJcbiAgaWQ6IHN0cmluZztcclxuXHJcbiAgLyoqIFVzZXIgSUQgKi9cclxuICBAQXBpUHJvcGVydHkoeyBkZXNjcmlwdGlvbjogJ1VzZXIgSUQnLCBleGFtcGxlOiAndXVpZC11c2VyJyB9KVxyXG4gIEBDb2x1bW4oJ3V1aWQnKVxyXG4gIHVzZXJJZDogc3RyaW5nO1xyXG5cclxuICAvKiogRGVsZXRpb24gc3RhdHVzICovXHJcbiAgQEFwaVByb3BlcnR5KHtcclxuICAgIGVudW06IERlbGV0aW9uU3RhdHVzLFxyXG4gICAgZGVzY3JpcHRpb246ICdEZWxldGlvbiBzdGF0dXMnLFxyXG4gICAgZXhhbXBsZTogRGVsZXRpb25TdGF0dXMuUEVORElORyxcclxuICB9KVxyXG4gIEBDb2x1bW4oe1xyXG4gICAgdHlwZTogJ2VudW0nLFxyXG4gICAgZW51bTogRGVsZXRpb25TdGF0dXMsXHJcbiAgICBkZWZhdWx0OiBEZWxldGlvblN0YXR1cy5QRU5ESU5HLFxyXG4gIH0pXHJcbiAgc3RhdHVzOiBEZWxldGlvblN0YXR1cztcclxuXHJcbiAgLyoqIFJlYXNvbiBmb3IgZGVsZXRpb24gKG9wdGlvbmFsKSAqL1xyXG4gIEBBcGlQcm9wZXJ0eU9wdGlvbmFsKHsgZGVzY3JpcHRpb246ICdSZWFzb24gZm9yIGRlbGV0aW9uJyB9KVxyXG4gIEBDb2x1bW4oeyB0eXBlOiAndGV4dCcsIG51bGxhYmxlOiB0cnVlIH0pXHJcbiAgcmVhc29uOiBzdHJpbmc7XHJcblxyXG4gIC8qKiBEYXRhIHR5cGVzIHRvIGRlbGV0ZSAob3B0aW9uYWwpICovXHJcbiAgQEFwaVByb3BlcnR5T3B0aW9uYWwoeyBkZXNjcmlwdGlvbjogJ0RhdGEgdHlwZXMgdG8gZGVsZXRlJywgdHlwZTogW1N0cmluZ10gfSlcclxuICBAQ29sdW1uKHsgdHlwZTogJ2pzb24nLCBudWxsYWJsZTogdHJ1ZSB9KVxyXG4gIGRhdGFUeXBlczogc3RyaW5nW107XHJcblxyXG4gIC8qKiBTY2hlZHVsZWQgZGVsZXRpb24gZGF0ZSAob3B0aW9uYWwpICovXHJcbiAgQEFwaVByb3BlcnR5T3B0aW9uYWwoe1xyXG4gICAgZGVzY3JpcHRpb246ICdTY2hlZHVsZWQgZGVsZXRpb24gZGF0ZScsXHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBmb3JtYXQ6ICdkYXRlLXRpbWUnLFxyXG4gIH0pXHJcbiAgQENvbHVtbih7IHR5cGU6ICd0aW1lc3RhbXAnLCBudWxsYWJsZTogdHJ1ZSB9KVxyXG4gIHNjaGVkdWxlZEF0OiBEYXRlO1xyXG5cclxuICAvKiogRGF0ZS90aW1lIHdoZW4gZGVsZXRpb24gd2FzIGNvbXBsZXRlZCAob3B0aW9uYWwpICovXHJcbiAgQEFwaVByb3BlcnR5T3B0aW9uYWwoe1xyXG4gICAgZGVzY3JpcHRpb246ICdEYXRlL3RpbWUgd2hlbiBkZWxldGlvbiB3YXMgY29tcGxldGVkJyxcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGZvcm1hdDogJ2RhdGUtdGltZScsXHJcbiAgfSlcclxuICBAQ29sdW1uKHsgdHlwZTogJ3RpbWVzdGFtcCcsIG51bGxhYmxlOiB0cnVlIH0pXHJcbiAgY29tcGxldGVkQXQ6IERhdGU7XHJcblxyXG4gIC8qKiBOb3RlcyAob3B0aW9uYWwpICovXHJcbiAgQEFwaVByb3BlcnR5T3B0aW9uYWwoe1xyXG4gICAgZGVzY3JpcHRpb246ICdOb3RlcycsXHJcbiAgICBleGFtcGxlOiAnVXNlciByZXF1ZXN0ZWQgZXhwZWRpdGVkIGRlbGV0aW9uJyxcclxuICB9KVxyXG4gIEBDb2x1bW4oeyB0eXBlOiAndGV4dCcsIG51bGxhYmxlOiB0cnVlIH0pXHJcbiAgbm90ZXM6IHN0cmluZztcclxuXHJcbiAgLyoqIERhdGUvdGltZSB3aGVuIHRoZSByZXF1ZXN0IHdhcyBjcmVhdGVkICovXHJcbiAgQEFwaVByb3BlcnR5KHtcclxuICAgIGRlc2NyaXB0aW9uOiAnRGF0ZS90aW1lIHdoZW4gdGhlIHJlcXVlc3Qgd2FzIGNyZWF0ZWQnLFxyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZm9ybWF0OiAnZGF0ZS10aW1lJyxcclxuICAgIGV4YW1wbGU6ICcyMDI1LTA2LTI5VDEyOjAwOjAwWicsXHJcbiAgfSlcclxuICBAQ3JlYXRlRGF0ZUNvbHVtbigpXHJcbiAgY3JlYXRlZEF0OiBEYXRlO1xyXG5cclxuICAvKiogRGF0ZS90aW1lIHdoZW4gdGhlIHJlcXVlc3Qgd2FzIGxhc3QgdXBkYXRlZCAqL1xyXG4gIEBBcGlQcm9wZXJ0eSh7XHJcbiAgICBkZXNjcmlwdGlvbjogJ0RhdGUvdGltZSB3aGVuIHRoZSByZXF1ZXN0IHdhcyBsYXN0IHVwZGF0ZWQnLFxyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZm9ybWF0OiAnZGF0ZS10aW1lJyxcclxuICAgIGV4YW1wbGU6ICcyMDI1LTA2LTI5VDEyOjEwOjAwWicsXHJcbiAgfSlcclxuICBAVXBkYXRlRGF0ZUNvbHVtbigpXHJcbiAgdXBkYXRlZEF0OiBEYXRlO1xyXG59XHJcbiJdLCJ2ZXJzaW9uIjozfQ==