b83cff6df73fef71b8d0b2691f3fd020
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var _a, _b, _c, _d, _e, _f, _g, _h;
Object.defineProperty(exports, "__esModule", { value: true });
exports.Recommendation = exports.RecommendationStatus = exports.RecommendationReason = exports.RecommendationType = void 0;
const typeorm_1 = require("typeorm");
const user_entity_1 = require("../../users/entities/user.entity");
const course_entity_1 = require("../../courses/entities/course.entity");
var RecommendationType;
(function (RecommendationType) {
    RecommendationType["COURSE"] = "course";
    RecommendationType["LEARNING_PATH"] = "learning_path";
    RecommendationType["CONTENT"] = "content";
    RecommendationType["SKILL_BASED"] = "skill_based";
    RecommendationType["COLLABORATIVE"] = "collaborative";
    RecommendationType["CONTENT_BASED"] = "content_based";
})(RecommendationType || (exports.RecommendationType = RecommendationType = {}));
var RecommendationReason;
(function (RecommendationReason) {
    RecommendationReason["SIMILAR_USERS"] = "similar_users";
    RecommendationReason["SKILL_GAP"] = "skill_gap";
    RecommendationReason["LEARNING_HISTORY"] = "learning_history";
    RecommendationReason["TRENDING"] = "trending";
    RecommendationReason["PREREQUISITE"] = "prerequisite";
    RecommendationReason["CONTINUATION"] = "continuation";
    RecommendationReason["INTEREST_BASED"] = "interest_based";
    RecommendationReason["DIFFICULTY_MATCH"] = "difficulty_match";
})(RecommendationReason || (exports.RecommendationReason = RecommendationReason = {}));
var RecommendationStatus;
(function (RecommendationStatus) {
    RecommendationStatus["ACTIVE"] = "active";
    RecommendationStatus["DISMISSED"] = "dismissed";
    RecommendationStatus["COMPLETED"] = "completed";
    RecommendationStatus["EXPIRED"] = "expired";
})(RecommendationStatus || (exports.RecommendationStatus = RecommendationStatus = {}));
let Recommendation = class Recommendation {
    // Virtual properties
    get isExpired() {
        return this.expiresAt ? new Date() > this.expiresAt : false;
    }
    get isViewed() {
        return !!this.viewedAt;
    }
    get isClicked() {
        return !!this.clickedAt;
    }
    get isDismissed() {
        return this.status === RecommendationStatus.DISMISSED;
    }
    get ageInDays() {
        return Math.floor((Date.now() - this.createdAt.getTime()) / (1000 * 60 * 60 * 24));
    }
};
exports.Recommendation = Recommendation;
__decorate([
    (0, typeorm_1.PrimaryGeneratedColumn)('uuid'),
    __metadata("design:type", String)
], Recommendation.prototype, "id", void 0);
__decorate([
    (0, typeorm_1.Column)('uuid'),
    (0, typeorm_1.Index)(),
    __metadata("design:type", String)
], Recommendation.prototype, "userId", void 0);
__decorate([
    (0, typeorm_1.ManyToOne)(() => user_entity_1.User, { onDelete: 'CASCADE' }),
    (0, typeorm_1.JoinColumn)({ name: 'userId' }),
    __metadata("design:type", typeof (_a = typeof user_entity_1.User !== "undefined" && user_entity_1.User) === "function" ? _a : Object)
], Recommendation.prototype, "user", void 0);
__decorate([
    (0, typeorm_1.Column)('uuid', { nullable: true }),
    __metadata("design:type", String)
], Recommendation.prototype, "courseId", void 0);
__decorate([
    (0, typeorm_1.ManyToOne)(() => course_entity_1.Course, { nullable: true, onDelete: 'CASCADE' }),
    (0, typeorm_1.JoinColumn)({ name: 'courseId' }),
    __metadata("design:type", typeof (_b = typeof course_entity_1.Course !== "undefined" && course_entity_1.Course) === "function" ? _b : Object)
], Recommendation.prototype, "course", void 0);
__decorate([
    (0, typeorm_1.Column)({
        type: 'enum',
        enum: RecommendationType,
        default: RecommendationType.COURSE,
    }),
    __metadata("design:type", String)
], Recommendation.prototype, "recommendationType", void 0);
__decorate([
    (0, typeorm_1.Column)({
        type: 'enum',
        enum: RecommendationReason,
        default: RecommendationReason.LEARNING_HISTORY,
    }),
    __metadata("design:type", String)
], Recommendation.prototype, "reason", void 0);
__decorate([
    (0, typeorm_1.Column)({
        type: 'enum',
        enum: RecommendationStatus,
        default: RecommendationStatus.ACTIVE,
    }),
    __metadata("design:type", String)
], Recommendation.prototype, "status", void 0);
__decorate([
    (0, typeorm_1.Column)('decimal', { precision: 5, scale: 4, default: 0.5 }),
    __metadata("design:type", Number)
], Recommendation.prototype, "confidenceScore", void 0);
__decorate([
    (0, typeorm_1.Column)('decimal', { precision: 5, scale: 4, default: 0.0 }),
    __metadata("design:type", Number)
], Recommendation.prototype, "relevanceScore", void 0);
__decorate([
    (0, typeorm_1.Column)('int', { default: 0 }),
    __metadata("design:type", Number)
], Recommendation.prototype, "priority", void 0);
__decorate([
    (0, typeorm_1.Column)('text', { nullable: true }),
    __metadata("design:type", String)
], Recommendation.prototype, "explanation", void 0);
__decorate([
    (0, typeorm_1.Column)('jsonb', { nullable: true }),
    __metadata("design:type", Object)
], Recommendation.prototype, "metadata", void 0);
__decorate([
    (0, typeorm_1.Column)('jsonb', { nullable: true }),
    __metadata("design:type", Object)
], Recommendation.prototype, "mlFeatures", void 0);
__decorate([
    (0, typeorm_1.Column)('timestamp', { nullable: true }),
    __metadata("design:type", typeof (_c = typeof Date !== "undefined" && Date) === "function" ? _c : Object)
], Recommendation.prototype, "expiresAt", void 0);
__decorate([
    (0, typeorm_1.Column)('timestamp', { nullable: true }),
    __metadata("design:type", typeof (_d = typeof Date !== "undefined" && Date) === "function" ? _d : Object)
], Recommendation.prototype, "viewedAt", void 0);
__decorate([
    (0, typeorm_1.Column)('timestamp', { nullable: true }),
    __metadata("design:type", typeof (_e = typeof Date !== "undefined" && Date) === "function" ? _e : Object)
], Recommendation.prototype, "clickedAt", void 0);
__decorate([
    (0, typeorm_1.Column)('timestamp', { nullable: true }),
    __metadata("design:type", typeof (_f = typeof Date !== "undefined" && Date) === "function" ? _f : Object)
], Recommendation.prototype, "dismissedAt", void 0);
__decorate([
    (0, typeorm_1.CreateDateColumn)(),
    __metadata("design:type", typeof (_g = typeof Date !== "undefined" && Date) === "function" ? _g : Object)
], Recommendation.prototype, "createdAt", void 0);
__decorate([
    (0, typeorm_1.UpdateDateColumn)(),
    __metadata("design:type", typeof (_h = typeof Date !== "undefined" && Date) === "function" ? _h : Object)
], Recommendation.prototype, "updatedAt", void 0);
exports.Recommendation = Recommendation = __decorate([
    (0, typeorm_1.Entity)('recommendations'),
    (0, typeorm_1.Index)(['userId', 'status', 'createdAt']),
    (0, typeorm_1.Index)(['recommendationType', 'status']),
    (0, typeorm_1.Index)(['confidenceScore'])
], Recommendation);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxnLWVrb2hcXERlc2t0b3BcXFN0cmVsbGVyTWluZHMtQmFja2VuZFxcc3JjXFxyZWNvbW1lbmRhdGlvblxcZW50aXRpZXNcXHJlY29tbWVuZGF0aW9uLmVudGl0eS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUEscUNBU2lCO0FBQ2pCLGtFQUF3RDtBQUN4RCx3RUFBOEQ7QUFFOUQsSUFBWSxrQkFPWDtBQVBELFdBQVksa0JBQWtCO0lBQzVCLHVDQUFpQixDQUFBO0lBQ2pCLHFEQUErQixDQUFBO0lBQy9CLHlDQUFtQixDQUFBO0lBQ25CLGlEQUEyQixDQUFBO0lBQzNCLHFEQUErQixDQUFBO0lBQy9CLHFEQUErQixDQUFBO0FBQ2pDLENBQUMsRUFQVyxrQkFBa0Isa0NBQWxCLGtCQUFrQixRQU83QjtBQUVELElBQVksb0JBU1g7QUFURCxXQUFZLG9CQUFvQjtJQUM5Qix1REFBK0IsQ0FBQTtJQUMvQiwrQ0FBdUIsQ0FBQTtJQUN2Qiw2REFBcUMsQ0FBQTtJQUNyQyw2Q0FBcUIsQ0FBQTtJQUNyQixxREFBNkIsQ0FBQTtJQUM3QixxREFBNkIsQ0FBQTtJQUM3Qix5REFBaUMsQ0FBQTtJQUNqQyw2REFBcUMsQ0FBQTtBQUN2QyxDQUFDLEVBVFcsb0JBQW9CLG9DQUFwQixvQkFBb0IsUUFTL0I7QUFFRCxJQUFZLG9CQUtYO0FBTEQsV0FBWSxvQkFBb0I7SUFDOUIseUNBQWlCLENBQUE7SUFDakIsK0NBQXVCLENBQUE7SUFDdkIsK0NBQXVCLENBQUE7SUFDdkIsMkNBQW1CLENBQUE7QUFDckIsQ0FBQyxFQUxXLG9CQUFvQixvQ0FBcEIsb0JBQW9CLFFBSy9CO0FBTU0sSUFBTSxjQUFjLEdBQXBCLE1BQU0sY0FBYztJQTJGekIscUJBQXFCO0lBQ3JCLElBQUksU0FBUztRQUNYLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7SUFDOUQs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LEVBQUUsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUM7O2tEQU9sQztBQUdGO0lBREMsSUFBQSxnQkFBTSxFQUFDLFdBQVcsRUFBRSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQztrREFDNUIsSUFBSSxvQkFBSixJQUFJO2lEQUFDO0FBR2pCO0lBREMsSUFBQSxnQkFBTSxFQUFDLFdBQVcsRUFBRSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQztrREFDN0IsSUFBSSxvQkFBSixJQUFJO2dEQUFDO0FBR2hCO0lBREMsSUFBQSxnQkFBTSxFQUFDLFdBQVcsRUFBRSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQztrREFDNUIsSUFBSSxvQkFBSixJQUFJO2lEQUFDO0FBR2pCO0lBREMsSUFBQSxnQkFBTSxFQUFDLFdBQVcsRUFBRSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQztrREFDMUIsSUFBSSxvQkFBSixJQUFJO21EQUFDO0FBR25CO0lBREMsSUFBQSwwQkFBZ0IsR0FBRTtrREFDUixJQUFJLG9CQUFKLElBQUk7aURBQUM7QUFHaEI7SUFEQyxJQUFBLDBCQUFnQixHQUFFO2tEQUNSLElBQUksb0JBQUosSUFBSTtpREFBQzt5QkF6RkwsY0FBYztJQUoxQixJQUFBLGdCQUFNLEVBQUMsaUJBQWlCLENBQUM7SUFDekIsSUFBQSxlQUFLLEVBQUMsQ0FBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0lBQ3hDLElBQUEsZUFBSyxFQUFDLENBQUMsb0JBQW9CLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDdkMsSUFBQSxlQUFLLEVBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0dBQ2QsY0FBYyxDQWlIMUIiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxnLWVrb2hcXERlc2t0b3BcXFN0cmVsbGVyTWluZHMtQmFja2VuZFxcc3JjXFxyZWNvbW1lbmRhdGlvblxcZW50aXRpZXNcXHJlY29tbWVuZGF0aW9uLmVudGl0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIEVudGl0eSxcclxuICBQcmltYXJ5R2VuZXJhdGVkQ29sdW1uLFxyXG4gIENvbHVtbixcclxuICBNYW55VG9PbmUsXHJcbiAgQ3JlYXRlRGF0ZUNvbHVtbixcclxuICBVcGRhdGVEYXRlQ29sdW1uLFxyXG4gIEluZGV4LFxyXG4gIEpvaW5Db2x1bW4sXHJcbn0gZnJvbSAndHlwZW9ybSc7XHJcbmltcG9ydCB7IFVzZXIgfSBmcm9tICcuLi8uLi91c2Vycy9lbnRpdGllcy91c2VyLmVudGl0eSc7XHJcbmltcG9ydCB7IENvdXJzZSB9IGZyb20gJy4uLy4uL2NvdXJzZXMvZW50aXRpZXMvY291cnNlLmVudGl0eSc7XHJcblxyXG5leHBvcnQgZW51bSBSZWNvbW1lbmRhdGlvblR5cGUge1xyXG4gIENPVVJTRSA9ICdjb3Vyc2UnLFxyXG4gIExFQVJOSU5HX1BBVEggPSAnbGVhcm5pbmdfcGF0aCcsXHJcbiAgQ09OVEVOVCA9ICdjb250ZW50JyxcclxuICBTS0lMTF9CQVNFRCA9ICdza2lsbF9iYXNlZCcsXHJcbiAgQ09MTEFCT1JBVElWRSA9ICdjb2xsYWJvcmF0aXZlJyxcclxuICBDT05URU5UX0JBU0VEID0gJ2NvbnRlbnRfYmFzZWQnLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBSZWNvbW1lbmRhdGlvblJlYXNvbiB7XHJcbiAgU0lNSUxBUl9VU0VSUyA9ICdzaW1pbGFyX3VzZXJzJyxcclxuICBTS0lMTF9HQVAgPSAnc2tpbGxfZ2FwJyxcclxuICBMRUFSTklOR19ISVNUT1JZID0gJ2xlYXJuaW5nX2hpc3RvcnknLFxyXG4gIFRSRU5ESU5HID0gJ3RyZW5kaW5nJyxcclxuICBQUkVSRVFVSVNJVEUgPSAncHJlcmVxdWlzaXRlJyxcclxuICBDT05USU5VQVRJT04gPSAnY29udGludWF0aW9uJyxcclxuICBJTlRFUkVTVF9CQVNFRCA9ICdpbnRlcmVzdF9iYXNlZCcsXHJcbiAgRElGRklDVUxUWV9NQVRDSCA9ICdkaWZmaWN1bHR5X21hdGNoJyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gUmVjb21tZW5kYXRpb25TdGF0dXMge1xyXG4gIEFDVElWRSA9ICdhY3RpdmUnLFxyXG4gIERJU01JU1NFRCA9ICdkaXNtaXNzZWQnLFxyXG4gIENPTVBMRVRFRCA9ICdjb21wbGV0ZWQnLFxyXG4gIEVYUElSRUQgPSAnZXhwaXJlZCcsXHJcbn1cclxuXHJcbkBFbnRpdHkoJ3JlY29tbWVuZGF0aW9ucycpXHJcbkBJbmRleChbJ3VzZXJJZCcsICdzdGF0dXMnLCAnY3JlYXRlZEF0J10pXHJcbkBJbmRleChbJ3JlY29tbWVuZGF0aW9uVHlwZScsICdzdGF0dXMnXSlcclxuQEluZGV4KFsnY29uZmlkZW5jZVNjb3JlJ10pXHJcbmV4cG9ydCBjbGFzcyBSZWNvbW1lbmRhdGlvbiB7XHJcbiAgQFByaW1hcnlHZW5lcmF0ZWRDb2x1bW4oJ3V1aWQnKVxyXG4gIGlkOiBzdHJpbmc7XHJcblxyXG4gIEBDb2x1bW4oJ3V1aWQnKVxyXG4gIEBJbmRleCgpXHJcbiAgdXNlcklkOiBzdHJpbmc7XHJcblxyXG4gIEBNYW55VG9PbmUoKCkgPT4gVXNlciwgeyBvbkRlbGV0ZTogJ0NBU0NBREUnIH0pXHJcbiAgQEpvaW5Db2x1bW4oeyBuYW1lOiAndXNlcklkJyB9KVxyXG4gIHVzZXI6IFVzZXI7XHJcblxyXG4gIEBDb2x1bW4oJ3V1aWQnLCB7IG51bGxhYmxlOiB0cnVlIH0pXHJcbiAgY291cnNlSWQ/OiBzdHJpbmc7XHJcblxyXG4gIEBNYW55VG9PbmUoKCkgPT4gQ291cnNlLCB7IG51bGxhYmxlOiB0cnVlLCBvbkRlbGV0ZTogJ0NBU0NBREUnIH0pXHJcbiAgQEpvaW5Db2x1bW4oeyBuYW1lOiAnY291cnNlSWQnIH0pXHJcbiAgY291cnNlPzogQ291cnNlO1xyXG5cclxuICBAQ29sdW1uKHtcclxuICAgIHR5cGU6ICdlbnVtJyxcclxuICAgIGVudW06IFJlY29tbWVuZGF0aW9uVHlwZSxcclxuICAgIGRlZmF1bHQ6IFJlY29tbWVuZGF0aW9uVHlwZS5DT1VSU0UsXHJcbiAgfSlcclxuICByZWNvbW1lbmRhdGlvblR5cGU6IFJlY29tbWVuZGF0aW9uVHlwZTtcclxuXHJcbiAgQENvbHVtbih7XHJcbiAgICB0eXBlOiAnZW51bScsXHJcbiAgICBlbnVtOiBSZWNvbW1lbmRhdGlvblJlYXNvbixcclxuICAgIGRlZmF1bHQ6IFJlY29tbWVuZGF0aW9uUmVhc29uLkxFQVJOSU5HX0hJU1RPUlksXHJcbiAgfSlcclxuICByZWFzb246IFJlY29tbWVuZGF0aW9uUmVhc29uO1xyXG5cclxuICBAQ29sdW1uKHtcclxuICAgIHR5cGU6ICdlbnVtJyxcclxuICAgIGVudW06IFJlY29tbWVuZGF0aW9uU3RhdHVzLFxyXG4gICAgZGVmYXVsdDogUmVjb21tZW5kYXRpb25TdGF0dXMuQUNUSVZFLFxyXG4gIH0pXHJcbiAgc3RhdHVzOiBSZWNvbW1lbmRhdGlvblN0YXR1cztcclxuXHJcbiAgQENvbHVtbignZGVjaW1hbCcsIHsgcHJlY2lzaW9uOiA1LCBzY2FsZTogNCwgZGVmYXVsdDogMC41IH0pXHJcbiAgY29uZmlkZW5jZVNjb3JlOiBudW1iZXI7XHJcblxyXG4gIEBDb2x1bW4oJ2RlY2ltYWwnLCB7IHByZWNpc2lvbjogNSwgc2NhbGU6IDQsIGRlZmF1bHQ6IDAuMCB9KVxyXG4gIHJlbGV2YW5jZVNjb3JlOiBudW1iZXI7XHJcblxyXG4gIEBDb2x1bW4oJ2ludCcsIHsgZGVmYXVsdDogMCB9KVxyXG4gIHByaW9yaXR5OiBudW1iZXI7XHJcblxyXG4gIEBDb2x1bW4oJ3RleHQnLCB7IG51bGxhYmxlOiB0cnVlIH0pXHJcbiAgZXhwbGFuYXRpb24/OiBzdHJpbmc7XHJcblxyXG4gIEBDb2x1bW4oJ2pzb25iJywgeyBudWxsYWJsZTogdHJ1ZSB9KVxyXG4gIG1ldGFkYXRhPzoge1xyXG4gICAgYWxnb3JpdGhtVXNlZD86IHN0cmluZztcclxuICAgIGZlYXR1cmVzPzogUmVjb3JkPHN0cmluZywgYW55PjtcclxuICAgIHNpbWlsYXJVc2Vycz86IHN0cmluZ1tdO1xyXG4gICAgdGFncz86IHN0cmluZ1tdO1xyXG4gICAgZGlmZmljdWx0eT86IHN0cmluZztcclxuICAgIGVzdGltYXRlZER1cmF0aW9uPzogbnVtYmVyO1xyXG4gICAgcHJlcmVxdWlzaXRlcz86IHN0cmluZ1tdO1xyXG4gICAgbGVhcm5pbmdPYmplY3RpdmVzPzogc3RyaW5nW107XHJcbiAgfTtcclxuXHJcbiAgQENvbHVtbignanNvbmInLCB7IG51bGxhYmxlOiB0cnVlIH0pXHJcbiAgbWxGZWF0dXJlcz86IHtcclxuICAgIHVzZXJFbWJlZGRpbmc/OiBudW1iZXJbXTtcclxuICAgIGNvbnRlbnRFbWJlZGRpbmc/OiBudW1iZXJbXTtcclxuICAgIGludGVyYWN0aW9uSGlzdG9yeT86IFJlY29yZDxzdHJpbmcsIGFueT47XHJcbiAgICBza2lsbFZlY3Rvcj86IG51bWJlcltdO1xyXG4gICAgcHJlZmVyZW5jZVZlY3Rvcj86IG51bWJlcltdO1xyXG4gIH07XHJcblxyXG4gIEBDb2x1bW4oJ3RpbWVzdGFtcCcsIHsgbnVsbGFibGU6IHRydWUgfSlcclxuICBleHBpcmVzQXQ/OiBEYXRlO1xyXG5cclxuICBAQ29sdW1uKCd0aW1lc3RhbXAnLCB7IG51bGxhYmxlOiB0cnVlIH0pXHJcbiAgdmlld2VkQXQ/OiBEYXRlO1xyXG5cclxuICBAQ29sdW1uKCd0aW1lc3RhbXAnLCB7IG51bGxhYmxlOiB0cnVlIH0pXHJcbiAgY2xpY2tlZEF0PzogRGF0ZTtcclxuXHJcbiAgQENvbHVtbigndGltZXN0YW1wJywgeyBudWxsYWJsZTogdHJ1ZSB9KVxyXG4gIGRpc21pc3NlZEF0PzogRGF0ZTtcclxuXHJcbiAgQENyZWF0ZURhdGVDb2x1bW4oKVxyXG4gIGNyZWF0ZWRBdDogRGF0ZTtcclxuXHJcbiAgQFVwZGF0ZURhdGVDb2x1bW4oKVxyXG4gIHVwZGF0ZWRBdDogRGF0ZTtcclxuXHJcbiAgLy8gVmlydHVhbCBwcm9wZXJ0aWVzXHJcbiAgZ2V0IGlzRXhwaXJlZCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmV4cGlyZXNBdCA/IG5ldyBEYXRlKCkgPiB0aGlzLmV4cGlyZXNBdCA6IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGlzVmlld2VkKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuICEhdGhpcy52aWV3ZWRBdDtcclxuICB9XHJcblxyXG4gIGdldCBpc0NsaWNrZWQoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gISF0aGlzLmNsaWNrZWRBdDtcclxuICB9XHJcblxyXG4gIGdldCBpc0Rpc21pc3NlZCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLnN0YXR1cyA9PT0gUmVjb21tZW5kYXRpb25TdGF0dXMuRElTTUlTU0VEO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGFnZUluRGF5cygpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIE1hdGguZmxvb3IoXHJcbiAgICAgIChEYXRlLm5vdygpIC0gdGhpcy5jcmVhdGVkQXQuZ2V0VGltZSgpKSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSxcclxuICAgICk7XHJcbiAgfVxyXG59XHJcbiJdLCJ2ZXJzaW9uIjozfQ==