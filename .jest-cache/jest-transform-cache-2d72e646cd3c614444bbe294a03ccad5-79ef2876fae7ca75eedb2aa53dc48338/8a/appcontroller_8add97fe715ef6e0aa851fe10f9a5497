f42c5342403d0e0352154e4795fe1bc6
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var _a;
Object.defineProperty(exports, "__esModule", { value: true });
exports.AppController = void 0;
const common_1 = require("@nestjs/common");
const app_service_1 = require("./app.service");
const custom_exception_1 = require("./common/errors/custom.exception");
const error_codes_enum_1 = require("./common/errors/error-codes.enum");
let AppController = class AppController {
    constructor(appService) {
        this.appService = appService;
    }
    getHello() {
        return this.appService.getHello();
    }
    testError(type) {
        switch (type) {
            case 'not-found':
                throw new custom_exception_1.CustomException(error_codes_enum_1.ErrorCode.NOT_FOUND, 'Resource not found', 404);
            case 'validation':
                throw new custom_exception_1.CustomException(error_codes_enum_1.ErrorCode.INVALID_INPUT, 'Validation failed', 400, [
                    {
                        field: 'email',
                        message: 'Invalid email format'
                    }
                ]);
            case 'unauthorized':
                throw new custom_exception_1.CustomException(error_codes_enum_1.ErrorCode.UNAUTHORIZED, 'Authentication required', 401);
            default:
                return { message: 'Test endpoint working' };
        }
    }
};
exports.AppController = AppController;
__decorate([
    (0, common_1.Get)(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", String)
], AppController.prototype, "getHello", null);
__decorate([
    (0, common_1.Get)('test-error/:type'),
    __param(0, (0, common_1.Param)('type')),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", void 0)
], AppController.prototype, "testError", null);
exports.AppController = AppController = __decorate([
    (0, common_1.Controller)(),
    __metadata("design:paramtypes", [typeof (_a = typeof app_service_1.AppService !== "undefined" && app_service_1.AppService) === "function" ? _a : Object])
], AppController);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxnLWVrb2hcXERlc2t0b3BcXFN0cmVsbGVyTWluZHMtQmFja2VuZFxcc3JjXFxhcHAuY29udHJvbGxlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsMkNBQXdEO0FBQ3hELCtDQUEyQztBQUMzQyx1RUFBbUU7QUFDbkUsdUVBQTZEO0FBR3RELElBQU0sYUFBYSxHQUFuQixNQUFNLGFBQWE7SUFDeEIsWUFBNkIsVUFBc0I7UUFBdEIsZUFBVSxHQUFWLFVBQVUsQ0FBWTtJQUFHLENBQUM7SUFHdkQsUUFBUTtRQUNOLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUNwQyxDQUFDO0lBR0QsU0FBUyxDQUFnQixJQUFZO1FBQ25DLFFBQVEsSUFBSSxFQUFFLENBQUM7WUFDYixLQUFLLFdBQVc7Z0JBQ2QsTUFBTSxJQUFJLGtDQUFlLENBQ3ZCLDRCQUFTLENBQUMsU0FBUyxFQUNuQixvQkFBb0IsRUFDcEIsR0FBRyxDQUNKLENBQUM7WUFDSixLQUFLLFlBQVk7Z0JBQ2YsTUFBTSxJQUFJLGtDQUFlLENBQ3ZCLDRCQUFTLENBQUMsYUFBYSxFQUN2QixtQkFBbUIsRUFDbkIsR0FBRyxFQUNIO29CQUNFO3dCQUNFLEtBQUssRUFBRSxPQUFPO3dCQUNkLE9BQU8sRUFBRSxzQkFBc0I7cUJBQ2hDO2lCQUNGLENBQ0YsQ0FBQztZQUNKLEtBQUssY0FBYztnQkFDakIsTUFBTSxJQUFJLGtDQUFlLENBQ3ZCLDRCQUFTLENBQUMsWUFBWSxFQUN0Qix5QkFBeUIsRUFDekIsR0FBRyxDQUNKLENBQUM7WUFDSjtnQkFDRSxPQUFPLEVBQUUsT0FBTyxFQUFFLHVCQUF1QixFQUFFLENBQUM7UUFDaEQsQ0FBQztJQUNILENBQUM7Q0FDRixDQUFBO0FBdkNZLHNDQUFhO0FBSXhCO0lBREMsSUFBQSxZQUFHLEdBQUU7Ozs7NkNBR0w7QUFHRDtJQURDLElBQUEsWUFBRyxFQUFDLGtCQUFrQixDQUFDO0lBQ2IsV0FBQSxJQUFBLGNBQUssRUFBQyxNQUFNLENBQUMsQ0FBQTs7Ozs4Q0E2QnZCO3dCQXRDVSxhQUFhO0lBRHpCLElBQUEsbUJBQVUsR0FBRTt5REFFOEIsd0JBQVUsb0JBQVYsd0JBQVU7R0FEeEMsYUFBYSxDQXVDekIiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxnLWVrb2hcXERlc2t0b3BcXFN0cmVsbGVyTWluZHMtQmFja2VuZFxcc3JjXFxhcHAuY29udHJvbGxlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb250cm9sbGVyLCBHZXQsIFBhcmFtIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xyXG5pbXBvcnQgeyBBcHBTZXJ2aWNlIH0gZnJvbSAnLi9hcHAuc2VydmljZSc7XHJcbmltcG9ydCB7IEN1c3RvbUV4Y2VwdGlvbiB9IGZyb20gJy4vY29tbW9uL2Vycm9ycy9jdXN0b20uZXhjZXB0aW9uJztcclxuaW1wb3J0IHsgRXJyb3JDb2RlIH0gZnJvbSAnLi9jb21tb24vZXJyb3JzL2Vycm9yLWNvZGVzLmVudW0nO1xyXG5cclxuQENvbnRyb2xsZXIoKVxyXG5leHBvcnQgY2xhc3MgQXBwQ29udHJvbGxlciB7XHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBhcHBTZXJ2aWNlOiBBcHBTZXJ2aWNlKSB7fVxyXG5cclxuICBAR2V0KClcclxuICBnZXRIZWxsbygpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuYXBwU2VydmljZS5nZXRIZWxsbygpO1xyXG4gIH1cclxuXHJcbiAgQEdldCgndGVzdC1lcnJvci86dHlwZScpXHJcbiAgdGVzdEVycm9yKEBQYXJhbSgndHlwZScpIHR5cGU6IHN0cmluZykge1xyXG4gICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgIGNhc2UgJ25vdC1mb3VuZCc6XHJcbiAgICAgICAgdGhyb3cgbmV3IEN1c3RvbUV4Y2VwdGlvbihcclxuICAgICAgICAgIEVycm9yQ29kZS5OT1RfRk9VTkQsXHJcbiAgICAgICAgICAnUmVzb3VyY2Ugbm90IGZvdW5kJyxcclxuICAgICAgICAgIDQwNFxyXG4gICAgICAgICk7XHJcbiAgICAgIGNhc2UgJ3ZhbGlkYXRpb24nOlxyXG4gICAgICAgIHRocm93IG5ldyBDdXN0b21FeGNlcHRpb24oXHJcbiAgICAgICAgICBFcnJvckNvZGUuSU5WQUxJRF9JTlBVVCxcclxuICAgICAgICAgICdWYWxpZGF0aW9uIGZhaWxlZCcsXHJcbiAgICAgICAgICA0MDAsXHJcbiAgICAgICAgICBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBmaWVsZDogJ2VtYWlsJyxcclxuICAgICAgICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBlbWFpbCBmb3JtYXQnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICApO1xyXG4gICAgICBjYXNlICd1bmF1dGhvcml6ZWQnOlxyXG4gICAgICAgIHRocm93IG5ldyBDdXN0b21FeGNlcHRpb24oXHJcbiAgICAgICAgICBFcnJvckNvZGUuVU5BVVRIT1JJWkVELFxyXG4gICAgICAgICAgJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkJyxcclxuICAgICAgICAgIDQwMVxyXG4gICAgICAgICk7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuIHsgbWVzc2FnZTogJ1Rlc3QgZW5kcG9pbnQgd29ya2luZycgfTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIl0sInZlcnNpb24iOjN9