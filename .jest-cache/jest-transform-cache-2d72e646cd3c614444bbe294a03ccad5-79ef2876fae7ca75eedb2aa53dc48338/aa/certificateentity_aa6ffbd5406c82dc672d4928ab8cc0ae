79b2e901737739f9b3acab6cbc8cfe8c
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var _a, _b, _c, _d;
Object.defineProperty(exports, "__esModule", { value: true });
exports.Certificate = void 0;
/**
 * Certificate entity representing issued certificates.
 */
const swagger_1 = require("@nestjs/swagger");
const course_entity_1 = require("../../courses/entities/course.entity");
const user_entity_1 = require("../../users/entities/user.entity");
const typeorm_1 = require("typeorm");
let Certificate = class Certificate {
};
exports.Certificate = Certificate;
__decorate([
    (0, swagger_1.ApiProperty)({ description: 'Certificate ID', example: 'uuid-v4' }),
    (0, typeorm_1.PrimaryGeneratedColumn)('uuid'),
    __metadata("design:type", String)
], Certificate.prototype, "id", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({ description: 'Certificate number', example: 'CERT-2025-001' }),
    (0, typeorm_1.Column)(),
    __metadata("design:type", String)
], Certificate.prototype, "certificateNumber", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({ description: 'Issue date', example: '2025-06-29' }),
    (0, typeorm_1.Column)({ type: 'date' }),
    __metadata("design:type", typeof (_a = typeof Date !== "undefined" && Date) === "function" ? _a : Object)
], Certificate.prototype, "issueDate", void 0);
__decorate([
    (0, swagger_1.ApiPropertyOptional)({ description: 'PDF URL', example: 'https://cdn.com/cert.pdf' }),
    (0, typeorm_1.Column)({ nullable: true }),
    __metadata("design:type", String)
], Certificate.prototype, "pdfUrl", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({ description: 'Date created', example: '2025-06-29T12:00:00Z' }),
    (0, typeorm_1.CreateDateColumn)(),
    __metadata("design:type", typeof (_b = typeof Date !== "undefined" && Date) === "function" ? _b : Object)
], Certificate.prototype, "createdAt", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({ description: 'User', type: () => user_entity_1.User }),
    (0, typeorm_1.ManyToOne)(() => user_entity_1.User, (user) => user.id, { nullable: false }),
    (0, typeorm_1.Index)(),
    __metadata("design:type", typeof (_c = typeof Promise !== "undefined" && Promise) === "function" ? _c : Object)
], Certificate.prototype, "user", void 0);
__decorate([
    (0, swagger_1.ApiProperty)({ description: 'Course', type: () => course_entity_1.Course }),
    (0, typeorm_1.ManyToOne)(() => course_entity_1.Course, (course) => course.certificates, { nullable: false }),
    (0, typeorm_1.Index)(),
    __metadata("design:type", typeof (_d = typeof Promise !== "undefined" && Promise) === "function" ? _d : Object)
], Certificate.prototype, "course", void 0);
exports.Certificate = Certificate = __decorate([
    (0, typeorm_1.Entity)('certificates')
], Certificate);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxnLWVrb2hcXERlc2t0b3BcXFN0cmVsbGVyTWluZHMtQmFja2VuZFxcc3JjXFxjZXJ0aWZpY2F0ZVxcZW50aXR5XFxjZXJ0aWZpY2F0ZS5lbnRpdHkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBOztHQUVHO0FBQ0gsNkNBQW1FO0FBQ25FLHdFQUE4RDtBQUM5RCxrRUFBd0Q7QUFDeEQscUNBT2lCO0FBR1YsSUFBTSxXQUFXLEdBQWpCLE1BQU0sV0FBVztDQThCdkIsQ0FBQTtBQTlCWSxrQ0FBVztBQUd0QjtJQUZDLElBQUEscUJBQVcsRUFBQyxFQUFFLFdBQVcsRUFBRSxnQkFBZ0IsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLENBQUM7SUFDbEUsSUFBQSxnQ0FBc0IsRUFBQyxNQUFNLENBQUM7O3VDQUNwQjtBQUlYO0lBRkMsSUFBQSxxQkFBVyxFQUFDLEVBQUUsV0FBVyxFQUFFLG9CQUFvQixFQUFFLE9BQU8sRUFBRSxlQUFlLEVBQUUsQ0FBQztJQUM1RSxJQUFBLGdCQUFNLEdBQUU7O3NEQUNpQjtBQUkxQjtJQUZDLElBQUEscUJBQVcsRUFBQyxFQUFFLFdBQVcsRUFBRSxZQUFZLEVBQUUsT0FBTyxFQUFFLFlBQVksRUFBRSxDQUFDO0lBQ2pFLElBQUEsZ0JBQU0sRUFBQyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsQ0FBQztrREFDZCxJQUFJLG9CQUFKLElBQUk7OENBQUM7QUFJaEI7SUFGQyxJQUFBLDZCQUFtQixFQUFDLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsMEJBQTBCLEVBQUUsQ0FBQztJQUNwRixJQUFBLGdCQUFNLEVBQUMsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUM7OzJDQUNaO0FBSWY7SUFGQyxJQUFBLHFCQUFXLEVBQUMsRUFBRSxXQUFXLEVBQUUsY0FBYyxFQUFFLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxDQUFDO0lBQzdFLElBQUEsMEJBQWdCLEdBQUU7a0RBQ1IsSUFBSSxvQkFBSixJQUFJOzhDQUFDO0FBS2hCO0lBSEMsSUFBQSxxQkFBVyxFQUFDLEVBQUUsV0FBVyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUMsa0JBQUksRUFBRSxDQUFDO0lBQ3RELElBQUEsbUJBQVMsRUFBQyxHQUFHLEVBQUUsQ0FBQyxrQkFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxDQUFDO0lBQzdELElBQUEsZUFBSyxHQUFFO2tEQUNGLE9BQU8sb0JBQVAsT0FBTzt5Q0FBTztBQUtwQjtJQUhDLElBQUEscUJBQVcsRUFBQyxFQUFFLFdBQVcsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDLHNCQUFNLEVBQUUsQ0FBQztJQUMxRCxJQUFBLG1CQUFTLEVBQUMsR0FBRyxFQUFFLENBQUMsc0JBQU0sRUFBRSxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLFlBQVksRUFBRSxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsQ0FBQztJQUM3RSxJQUFBLGVBQUssR0FBRTtrREFDQSxPQUFPLG9CQUFQLE9BQU87MkNBQVM7c0JBN0JiLFdBQVc7SUFEdkIsSUFBQSxnQkFBTSxFQUFDLGNBQWMsQ0FBQztHQUNWLFdBQVcsQ0E4QnZCIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcZy1la29oXFxEZXNrdG9wXFxTdHJlbGxlck1pbmRzLUJhY2tlbmRcXHNyY1xcY2VydGlmaWNhdGVcXGVudGl0eVxcY2VydGlmaWNhdGUuZW50aXR5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDZXJ0aWZpY2F0ZSBlbnRpdHkgcmVwcmVzZW50aW5nIGlzc3VlZCBjZXJ0aWZpY2F0ZXMuXHJcbiAqL1xyXG5pbXBvcnQgeyBBcGlQcm9wZXJ0eSwgQXBpUHJvcGVydHlPcHRpb25hbCB9IGZyb20gJ0BuZXN0anMvc3dhZ2dlcic7XHJcbmltcG9ydCB7IENvdXJzZSB9IGZyb20gJy4uLy4uL2NvdXJzZXMvZW50aXRpZXMvY291cnNlLmVudGl0eSc7XHJcbmltcG9ydCB7IFVzZXIgfSBmcm9tICcuLi8uLi91c2Vycy9lbnRpdGllcy91c2VyLmVudGl0eSc7XHJcbmltcG9ydCB7XHJcbiAgRW50aXR5LFxyXG4gIFByaW1hcnlHZW5lcmF0ZWRDb2x1bW4sXHJcbiAgQ29sdW1uLFxyXG4gIE1hbnlUb09uZSxcclxuICBJbmRleCxcclxuICBDcmVhdGVEYXRlQ29sdW1uLFxyXG59IGZyb20gJ3R5cGVvcm0nO1xyXG5cclxuQEVudGl0eSgnY2VydGlmaWNhdGVzJylcclxuZXhwb3J0IGNsYXNzIENlcnRpZmljYXRlIHtcclxuICBAQXBpUHJvcGVydHkoeyBkZXNjcmlwdGlvbjogJ0NlcnRpZmljYXRlIElEJywgZXhhbXBsZTogJ3V1aWQtdjQnIH0pXHJcbiAgQFByaW1hcnlHZW5lcmF0ZWRDb2x1bW4oJ3V1aWQnKVxyXG4gIGlkOiBzdHJpbmc7XHJcblxyXG4gIEBBcGlQcm9wZXJ0eSh7IGRlc2NyaXB0aW9uOiAnQ2VydGlmaWNhdGUgbnVtYmVyJywgZXhhbXBsZTogJ0NFUlQtMjAyNS0wMDEnIH0pXHJcbiAgQENvbHVtbigpXHJcbiAgY2VydGlmaWNhdGVOdW1iZXI6IHN0cmluZztcclxuXHJcbiAgQEFwaVByb3BlcnR5KHsgZGVzY3JpcHRpb246ICdJc3N1ZSBkYXRlJywgZXhhbXBsZTogJzIwMjUtMDYtMjknIH0pXHJcbiAgQENvbHVtbih7IHR5cGU6ICdkYXRlJyB9KVxyXG4gIGlzc3VlRGF0ZTogRGF0ZTtcclxuXHJcbiAgQEFwaVByb3BlcnR5T3B0aW9uYWwoeyBkZXNjcmlwdGlvbjogJ1BERiBVUkwnLCBleGFtcGxlOiAnaHR0cHM6Ly9jZG4uY29tL2NlcnQucGRmJyB9KVxyXG4gIEBDb2x1bW4oeyBudWxsYWJsZTogdHJ1ZSB9KVxyXG4gIHBkZlVybDogc3RyaW5nO1xyXG5cclxuICBAQXBpUHJvcGVydHkoeyBkZXNjcmlwdGlvbjogJ0RhdGUgY3JlYXRlZCcsIGV4YW1wbGU6ICcyMDI1LTA2LTI5VDEyOjAwOjAwWicgfSlcclxuICBAQ3JlYXRlRGF0ZUNvbHVtbigpXHJcbiAgY3JlYXRlZEF0OiBEYXRlO1xyXG5cclxuICBAQXBpUHJvcGVydHkoeyBkZXNjcmlwdGlvbjogJ1VzZXInLCB0eXBlOiAoKSA9PiBVc2VyIH0pXHJcbiAgQE1hbnlUb09uZSgoKSA9PiBVc2VyLCAodXNlcikgPT4gdXNlci5pZCwgeyBudWxsYWJsZTogZmFsc2UgfSlcclxuICBASW5kZXgoKVxyXG4gIHVzZXI6IFByb21pc2U8VXNlcj47XHJcblxyXG4gIEBBcGlQcm9wZXJ0eSh7IGRlc2NyaXB0aW9uOiAnQ291cnNlJywgdHlwZTogKCkgPT4gQ291cnNlIH0pXHJcbiAgQE1hbnlUb09uZSgoKSA9PiBDb3Vyc2UsIChjb3Vyc2UpID0+IGNvdXJzZS5jZXJ0aWZpY2F0ZXMsIHsgbnVsbGFibGU6IGZhbHNlIH0pXHJcbiAgQEluZGV4KClcclxuICBjb3Vyc2U6IFByb21pc2U8Q291cnNlPjtcclxufVxyXG4iXSwidmVyc2lvbiI6M30=