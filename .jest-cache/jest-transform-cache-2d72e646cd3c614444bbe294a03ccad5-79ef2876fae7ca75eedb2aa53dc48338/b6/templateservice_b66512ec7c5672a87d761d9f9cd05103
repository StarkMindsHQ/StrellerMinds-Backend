a9ab56fa6fae62f5147442a89613b82f
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var _a;
Object.defineProperty(exports, "__esModule", { value: true });
exports.EmailTemplateService = void 0;
const common_1 = require("@nestjs/common");
const typeorm_1 = require("@nestjs/typeorm");
const typeorm_2 = require("typeorm");
const email_template_entity_1 = require("../entities/email-template.entity");
let EmailTemplateService = class EmailTemplateService {
    constructor(emailTemplateRepository) {
        this.emailTemplateRepository = emailTemplateRepository;
    }
    async findAll() {
        return this.emailTemplateRepository.find({
            order: { name: 'ASC' },
        });
    }
    async findOne(id) {
        const template = await this.emailTemplateRepository.findOne({
            where: { id },
        });
        if (!template) {
            throw new common_1.NotFoundException(`Email template with ID ${id} not found`);
        }
        return template;
    }
    async findByName(name) {
        const template = await this.emailTemplateRepository.findOne({
            where: { name },
        });
        if (!template) {
            throw new common_1.NotFoundException(`Email template with name ${name} not found`);
        }
        return template;
    }
    async create(createTemplateDto) {
        const template = this.emailTemplateRepository.create(createTemplateDto);
        return this.emailTemplateRepository.save(template);
    }
    async update(id, updateTemplateDto) {
        const template = await this.findOne(id);
        // Update the template properties
        Object.assign(template, updateTemplateDto);
        return this.emailTemplateRepository.save(template);
    }
    async remove(id) {
        const template = await this.findOne(id);
        await this.emailTemplateRepository.remove(template);
    }
    async validateTemplate(name, context) {
        try {
            const template = await this.findByName(name);
            const handlebars = require('handlebars');
            handlebars.compile(template.content)(context);
            return { valid: true };
        }
        catch (error) {
            return {
                valid: false,
                errors: [error.message],
            };
        }
    }
    async seedDefaultTemplates() {
        const defaultTemplates = [
            {
                name: 'welcome',
                subject: 'Welcome to Our Platform',
                content: this.getDefaultWelcomeTemplate(),
                description: 'Sent to new users after registration',
            },
            {
                name: 'reset-password',
                subject: 'Reset Your Password',
                content: this.getDefaultResetPasswordTemplate(),
                description: 'Sent when a user requests a password reset',
            },
            {
                name: 'email-verification',
                subject: 'Verify Your Email Address',
                content: this.getDefaultVerificationTemplate(),
                description: "Sent to verify a user's email address",
            },
            {
                name: 'course-enrollment',
                subject: 'Course Enrollment Confirmation',
                content: this.getDefaultCourseEnrollmentTemplate(),
                description: 'Sent when a user enrolls in a course',
            },
            {
                name: 'course-completion',
                subject: 'Course Completion Certificate',
                content: this.getDefaultCourseCompletionTemplate(),
                description: 'Sent when a user completes a course',
            },
            {
                name: 'forum-notification',
                subject: 'Forum Notification',
                content: this.getDefaultForumNotificationTemplate(),
                description: 'Sent for forum activity notifications',
            },
        ];
        for (const template of defaultTemplates) {
            const existing = await this.emailTemplateRepository.findOne({
                where: { name: template.name },
            });
            if (!existing) {
                await this.create(template);
            }
        }
    }
    getDefaultWelcomeTemplate() {
        return `<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Welcome to Our Platform</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
    }
    .header {
      background-color: #f8f9fa;
      padding: 20px;
      text-align: center;
      border-bottom: 1px solid #e9ecef;
    }
    .content {
      padding: 20px;
    }
    .footer {
      background-color: #f8f9fa;
      padding: 20px;
      text-align: center;
      font-size: 12px;
      color: #6c757d;
      border-top: 1px solid #e9ecef;
    }
    .button {
      display: inline-block;
      background-color: #007bff;
      color: white;
      text-decoration: none;
      padding: 10px 20px;
      border-radius: 4px;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Welcome to Our Platform</h1>
    </div>
    <div class="content">
      <p>Hello {{name}},</p>
      <p>Thank you for joining our platform! We're excited to have you on board.</p>
      <p>Your account has been successfully created and you can now start using our services.</p>
      <p>
        <a href="{{loginUrl}}" class="button">Login to Your Account</a>
      </p>
      <p>If you have any questions, feel free to contact our support team.</p>
      <p>Best regards,<br>The Team</p>
    </div>
    <div class="footer">
      <p>© {{year}} Our Company. All rights reserved.</p>
      <p>
        <a href="{{unsubscribeUrl}}">Unsubscribe</a> from these emails.
      </p>
    </div>
  </div>
</body>
</html>`;
    }
    getDefaultResetPasswordTemplate() {
        return `<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reset Your Password</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
    }
    .header {
      background-color: #f8f9fa;
      padding: 20px;
      text-align: center;
      border-bottom: 1px solid #e9ecef;
    }
    .content {
      padding: 20px;
    }
    .footer {
      background-color: #f8f9fa;
      padding: 20px;
      text-align: center;
      font-size: 12px;
      color: #6c757d;
      border-top: 1px solid #e9ecef;
    }
    .button {
      display: inline-block;
      background-color: #007bff;
      color: white;
      text-decoration: none;
      padding: 10px 20px;
      border-radius: 4px;
      margin-top: 20px;
    }
    .code {
      font-family: monospace;
      font-size: 24px;
      letter-spacing: 2px;
      background-color: #f8f9fa;
      padding: 10px;
      border-radius: 4px;
      margin: 20px 0;
      display: inline-block;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Reset Your Password</h1>
    </div>
    <div class="content">
      <p>Hello,</p>
      <p>We received a request to reset your password. If you didn't make this request, you can safely ignore this email.</p>
      <p>To reset your password, click the button below:</p>
      <p>
        <a href="{{resetUrl}}" class="button">Reset Password</a>
      </p>
      <p>Or use this code:</p>
      <div class="code">{{resetCode}}</div>
      <p>This link and code will expire in {{expiryTime}} hours.</p>
      <p>Best regards,<br>The Team</p>
    </div>
    <div class="footer">
      <p>© {{year}} Our Company. All rights reserved.</p>
      <p>If you didn't request this password reset, please contact our support team immediately.</p>
    </div>
  </div>
</body>
</html>`;
    }
    getDefaultVerificationTemplate() {
        return `<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Verify Your Email Address</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
    }
    .header {
      background-color: #f8f9fa;
      padding: 20px;
      text-align: center;
      border-bottom: 1px solid #e9ecef;
    }
    .content {
      padding: 20px;
    }
    .footer {
      background-color: #f8f9fa;
      padding: 20px;
      text-align: center;
      font-size: 12px;
      color: #6c757d;
      border-top: 1px solid #e9ecef;
    }
    .button {
      display: inline-block;
      background-color: #007bff;
      color: white;
      text-decoration: none;
      padding: 10px 20px;
      border-radius: 4px;
      margin-top: 20px;
    }
    .verification-code {
      font-family: monospace;
      font-size: 24px;
      letter-spacing: 2px;
      background-color: #f8f9fa;
      padding: 10px;
      border-radius: 4px;
      margin: 20px 0;
      display: inline-block;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Verify Your Email Address</h1>
    </div>
    <div class="content">
      <p>Hello {{name}},</p>
      <p>Thank you for signing up! To complete your registration, please verify your email address by clicking the button below:</p>
      <p>
        <a href="{{verificationUrl}}" class="button">Verify Email Address</a>
      </p>
      <p>Or enter this verification code on the verification page:</p>
      <div class="verification-code">{{verificationCode}}</div>
      <p>This verification link and code will expire in {{expiryTime}} hours.</p>
      <p>If you didn't create an account, you can safely ignore this email.</p>
      <p>Best regards,<br>The Team</p>
    </div>
    <div class="footer">
      <p>© {{year}} Our Company. All rights reserved.</p>
      <p>
        <a href="{{unsubscribeUrl}}">Unsubscribe</a> from these emails.
      </p>
    </div>
  </div>
</body>
</html>`;
    }
    getDefaultCourseEnrollmentTemplate() {
        return `<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Course Enrollment Confirmation</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
    }
    .header {
      background-color: #f8f9fa;
      padding: 20px;
      text-align: center;
      border-bottom: 1px solid #e9ecef;
    }
    .content {
      padding: 20px;
    }
    .footer {
      background-color: #f8f9fa;
      padding: 20px;
      text-align: center;
      font-size: 12px;
      color: #6c757d;
      border-top: 1px solid #e9ecef;
    }
    .button {
      display: inline-block;
      background-color: #007bff;
      color: white;
      text-decoration: none;
      padding: 10px 20px;
      border-radius: 4px;
      margin-top: 20px;
    }
    .course-info {
      background-color: #f8f9fa;
      border-radius: 4px;
      padding: 15px;
      margin: 20px 0;
    }
    .course-title {
      font-weight: bold;
      font-size: 18px;
      margin-bottom: 10px;
    }
    .course-details {
      margin-bottom: 5px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Course Enrollment Confirmation</h1>
    </div>
    <div class="content">
      <p>Hello {{name}},</p>
      <p>Congratulations! You have successfully enrolled in the following course:</p>
      
      <div class="course-info">
        <div class="course-title">{{courseName}}</div>
        <div class="course-details"><strong>Instructor:</strong> {{instructorName}}</div>
        <div class="course-details"><strong>Start Date:</strong> {{startDate}}</div>
        <div class="course-details"><strong>Duration:</strong> {{duration}}</div>
      </div>
      
      <p>You can access your course materials by clicking the button below:</p>
      <p>
        <a href="{{courseUrl}}" class="button">Access Course</a>
      </p>
      
      <p>If you have any questions about the course, please don't hesitate to contact our support team.</p>
      <p>We wish you success in your learning journey!</p>
      <p>Best regards,<br>The Education Team</p>
    </div>
    <div class="footer">
      <p>© {{year}} Our Company. All rights reserved.</p>
      <p>
        <a href="{{unsubscribeUrl}}">Manage email preferences</a>
      </p>
    </div>
  </div>
</body>
</html>`;
    }
    getDefaultCourseCompletionTemplate() {
        return `<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Course Completion Certificate</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
    }
    .header {
      background-color: #f8f9fa;
      padding: 20px;
      text-align: center;
      border-bottom: 1px solid #e9ecef;
    }
    .content {
      padding: 20px;
    }
    .footer {
      background-color: #f8f9fa;
      padding: 20px;
      text-align: center;
      font-size: 12px;
      color: #6c757d;
      border-top: 1px solid #e9ecef;
    }
    .button {
      display: inline-block;
      background-color: #007bff;
      color: white;
      text-decoration: none;
      padding: 10px 20px;
      border-radius: 4px;
      margin-top: 20px;
    }
    .certificate {
      border: 2px solid #007bff;
      border-radius: 8px;
      padding: 20px;
      margin: 20px 0;
      text-align: center;
      background-color: #f8f9fa;
    }
    .certificate-title {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 15px;
      color: #007bff;
    }
    .certificate-text {
      font-size: 16px;
      margin-bottom: 10px;
    }
    .certificate-course {
      font-size: 20px;
      font-weight: bold;
      margin: 15px 0;
    }
    .certificate-date {
      font-style: italic;
      margin-top: 15px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Congratulations on Completing Your Course!</h1>
    </div>
    <div class="content">
      <p>Hello {{name}},</p>
      <p>Congratulations on successfully completing the course "{{courseName}}"! We're proud of your dedication and hard work.</p>
      
      <div class="certificate">
        <div class="certificate-title">Certificate of Completion</div>
        <div class="certificate-text">This certifies that</div>
        <div class="certificate-text"><strong>{{name}}</strong></div>
        <div class="certificate-text">has successfully completed</div>
        <div class="certificate-course">{{courseName}}</div>
        <div class="certificate-text">with a score of {{score}}%</div>
        <div class="certificate-date">Completed on {{completionDate}}</div>
      </div>
      
      <p>You can download your official certificate and share your achievement by clicking the button below:</p>
      <p>
        <a href="{{certificateUrl}}" class="button">Download Certificate</a>
      </p>
      
      <p>We hope you enjoyed the course and found it valuable. Check out our other courses that might interest you:</p>
      <p>
        <a href="{{courseCatalogUrl}}" class="button">Explore More Courses</a>
      </p>
      
      <p>Best regards,<br>The Education Team</p>
    </div>
    <div class="footer">
      <p>© {{year}} Our Company. All rights reserved.</p>
      <p>
        <a href="{{unsubscribeUrl}}">Manage email preferences</a>
      </p>
    </div>
  </div>
</body>
</html>`;
    }
    getDefaultForumNotificationTemplate() {
        return `<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Forum Notification</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
    }
    .header {
      background-color: #f8f9fa;
      padding: 20px;
      text-align: center;
      border-bottom: 1px solid #e9ecef;
    }
    .content {
      padding: 20px;
    }
    .footer {
      background-color: #f8f9fa;
      padding: 20px;
      text-align: center;
      font-size: 12px;
      color: #6c757d;
      border-top: 1px solid #e9ecef;
    }
    .button {
      display: inline-block;
      background-color: #007bff;
      color: white;
      text-decoration: none;
      padding: 10px 20px;
      border-radius: 4px;
      margin-top: 20px;
    }
    .forum-post {
      background-color: #f8f9fa;
      border-left: 4px solid #007bff;
      padding: 15px;
      margin: 20px 0;
      border-radius: 0 4px 4px 0;
    }
    .post-author {
      font-weight: bold;
      margin-bottom: 5px;
    }
    .post-date {
      font-size: 12px;
      color: #6c757d;
      margin-bottom: 10px;
    }
    .post-content {
      margin-bottom: 10px;
    }
    .notification-type {
      display: inline-block;
      background-color: #007bff;
      color: white;
      padding: 3px 8px;
      border-radius: 4px;
      font-size: 12px;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Forum Notification</h1>
    </div>
    <div class="content">
      <p>Hello {{name}},</p>
      
      <div class="notification-type">{{notificationType}}</div>
      
      <p>{{notificationMessage}}</p>
      
      <div class="forum-post">
        <div class="post-author">{{postAuthor}}</div>
        <div class="post-date">{{postDate}}</div>
        <div class="post-content">{{postContent}}</div>
      </div>
      
      <p>
        <a href="{{postUrl}}" class="button">View in Forum</a>
      </p>
      
      <p>Best regards,<br>The Forum Team</p>
    </div>
    <div class="footer">
      <p>© {{year}} Our Company. All rights reserved.</p>
      <p>
        <a href="{{unsubscribeUrl}}">Manage notification preferences</a>
      </p>
    </div>
  </div>
</body>
</html>`;
    }
};
exports.EmailTemplateService = EmailTemplateService;
exports.EmailTemplateService = EmailTemplateService = __decorate([
    (0, common_1.Injectable)(),
    __param(0, (0, typeorm_1.InjectRepository)(email_template_entity_1.EmailTemplate)),
    __metadata("design:paramtypes", [typeof (_a = typeof typeorm_2.Repository !== "undefined" && typeorm_2.Repository) === "function" ? _a : Object])
], EmailTemplateService);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxnLWVrb2hcXERlc2t0b3BcXFN0cmVsbGVyTWluZHMtQmFja2VuZFxcc3JjXFxlbWFpbFxcYWRtaW5cXHRlbXBsYXRlLnNlcnZpY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDJDQUErRDtBQUMvRCw2Q0FBbUQ7QUFDbkQscUNBQXFDO0FBQ3JDLDZFQUFrRTtBQUkzRCxJQUFNLG9CQUFvQixHQUExQixNQUFNLG9CQUFvQjtJQUMvQixZQUVVLHVCQUFrRDtRQUFsRCw0QkFBdUIsR0FBdkIsdUJBQXVCLENBQTJCO0lBQ3pELENBQUM7SUFFSixLQUFLLENBQUMsT0FBTztRQUNYLE9BQU8sSUFBSSxDQUFDLHVCQUF1QixDQUFDLElBQUksQ0FBQztZQUN2QyxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFO1NBQ3ZCLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRCxLQUFLLENBQUMsT0FBTyxDQUFDLEVBQVU7UUFDdEIsTUFBTSxRQUFRLEdBQUcsTUFBTSxJQUFJLENBQUMsdUJBQXVCLENBQUMsT0FBTyxDQUFDO1lBQzFELEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRTtTQUNkLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUNkLE1BQU0sSUFBSSwwQkFBaUIsQ0FBQywwQkFBMEIsRUFBRSxZQUFZLENBQUMsQ0FBQztRQUN4RSxDQUFDO1FBRUQsT0FBTyxRQUFRLENBQUM7SUFDbEIsQ0FBQztJQUVELEtBQUssQ0FBQyxVQUFVLENBQUMsSUFBWTtRQUMzQixNQUFNLFFBQVEsR0FBRyxNQUFNLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxPQUFPLENBQUM7WUFDMUQsS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFO1NBQ2hCLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUNkLE1BQU0sSUFBSSwwQkFBaUIsQ0FBQyw0QkFBNEIsSUFBSSxZQUFZLENBQUMsQ0FBQztRQUM1RSxDQUFDO1FBRUQs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Q0FBQztJQUNQLENBQUM7SUFFTyxtQ0FBbUM7UUFDekMsT0FBTzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7UUEyR0gsQ0FBQztJQUNQLENBQUM7Q0FDRixDQUFBO0FBeHJCWSxvREFBb0I7K0JBQXBCLG9CQUFvQjtJQURoQyxJQUFBLG1CQUFVLEdBQUU7SUFHUixXQUFBLElBQUEsMEJBQWdCLEVBQUMscUNBQWEsQ0FBQyxDQUFBO3lEQUNDLG9CQUFVLG9CQUFWLG9CQUFVO0dBSGxDLG9CQUFvQixDQXdyQmhDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcZy1la29oXFxEZXNrdG9wXFxTdHJlbGxlck1pbmRzLUJhY2tlbmRcXHNyY1xcZW1haWxcXGFkbWluXFx0ZW1wbGF0ZS5zZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUsIE5vdEZvdW5kRXhjZXB0aW9uIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xyXG5pbXBvcnQgeyBJbmplY3RSZXBvc2l0b3J5IH0gZnJvbSAnQG5lc3Rqcy90eXBlb3JtJztcclxuaW1wb3J0IHsgUmVwb3NpdG9yeSB9IGZyb20gJ3R5cGVvcm0nO1xyXG5pbXBvcnQgeyBFbWFpbFRlbXBsYXRlIH0gZnJvbSAnLi4vZW50aXRpZXMvZW1haWwtdGVtcGxhdGUuZW50aXR5JztcclxuaW1wb3J0IHsgQ3JlYXRlVGVtcGxhdGVEdG8sIFVwZGF0ZVRlbXBsYXRlRHRvIH0gZnJvbSAnLi9kdG8vdGVtcGxhdGUuZHRvJztcclxuXHJcbkBJbmplY3RhYmxlKClcclxuZXhwb3J0IGNsYXNzIEVtYWlsVGVtcGxhdGVTZXJ2aWNlIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIEBJbmplY3RSZXBvc2l0b3J5KEVtYWlsVGVtcGxhdGUpXHJcbiAgICBwcml2YXRlIGVtYWlsVGVtcGxhdGVSZXBvc2l0b3J5OiBSZXBvc2l0b3J5PEVtYWlsVGVtcGxhdGU+LFxyXG4gICkge31cclxuXHJcbiAgYXN5bmMgZmluZEFsbCgpOiBQcm9taXNlPEVtYWlsVGVtcGxhdGVbXT4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZW1haWxUZW1wbGF0ZVJlcG9zaXRvcnkuZmluZCh7XHJcbiAgICAgIG9yZGVyOiB7IG5hbWU6ICdBU0MnIH0sXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGZpbmRPbmUoaWQ6IHN0cmluZyk6IFByb21pc2U8RW1haWxUZW1wbGF0ZT4ge1xyXG4gICAgY29uc3QgdGVtcGxhdGUgPSBhd2FpdCB0aGlzLmVtYWlsVGVtcGxhdGVSZXBvc2l0b3J5LmZpbmRPbmUoe1xyXG4gICAgICB3aGVyZTogeyBpZCB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCF0ZW1wbGF0ZSkge1xyXG4gICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oYEVtYWlsIHRlbXBsYXRlIHdpdGggSUQgJHtpZH0gbm90IGZvdW5kYCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRlbXBsYXRlO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZmluZEJ5TmFtZShuYW1lOiBzdHJpbmcpOiBQcm9taXNlPEVtYWlsVGVtcGxhdGU+IHtcclxuICAgIGNvbnN0IHRlbXBsYXRlID0gYXdhaXQgdGhpcy5lbWFpbFRlbXBsYXRlUmVwb3NpdG9yeS5maW5kT25lKHtcclxuICAgICAgd2hlcmU6IHsgbmFtZSB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCF0ZW1wbGF0ZSkge1xyXG4gICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oYEVtYWlsIHRlbXBsYXRlIHdpdGggbmFtZSAke25hbWV9IG5vdCBmb3VuZGApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0ZW1wbGF0ZTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGNyZWF0ZShjcmVhdGVUZW1wbGF0ZUR0bzogQ3JlYXRlVGVtcGxhdGVEdG8pOiBQcm9taXNlPEVtYWlsVGVtcGxhdGU+IHtcclxuICAgIGNvbnN0IHRlbXBsYXRlID0gdGhpcy5lbWFpbFRlbXBsYXRlUmVwb3NpdG9yeS5jcmVhdGUoY3JlYXRlVGVtcGxhdGVEdG8pO1xyXG4gICAgcmV0dXJuIHRoaXMuZW1haWxUZW1wbGF0ZVJlcG9zaXRvcnkuc2F2ZSh0ZW1wbGF0ZSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyB1cGRhdGUoXHJcbiAgICBpZDogc3RyaW5nLFxyXG4gICAgdXBkYXRlVGVtcGxhdGVEdG86IFVwZGF0ZVRlbXBsYXRlRHRvLFxyXG4gICk6IFByb21pc2U8RW1haWxUZW1wbGF0ZT4ge1xyXG4gICAgY29uc3QgdGVtcGxhdGUgPSBhd2FpdCB0aGlzLmZpbmRPbmUoaWQpO1xyXG5cclxuICAgIC8vIFVwZGF0ZSB0aGUgdGVtcGxhdGUgcHJvcGVydGllc1xyXG4gICAgT2JqZWN0LmFzc2lnbih0ZW1wbGF0ZSwgdXBkYXRlVGVtcGxhdGVEdG8pO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmVtYWlsVGVtcGxhdGVSZXBvc2l0b3J5LnNhdmUodGVtcGxhdGUpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgcmVtb3ZlKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGNvbnN0IHRlbXBsYXRlID0gYXdhaXQgdGhpcy5maW5kT25lKGlkKTtcclxuICAgIGF3YWl0IHRoaXMuZW1haWxUZW1wbGF0ZVJlcG9zaXRvcnkucmVtb3ZlKHRlbXBsYXRlKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHZhbGlkYXRlVGVtcGxhdGUoXHJcbiAgICBuYW1lOiBzdHJpbmcsXHJcbiAgICBjb250ZXh0OiBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxyXG4gICk6IFByb21pc2U8eyB2YWxpZDogYm9vbGVhbjsgZXJyb3JzPzogc3RyaW5nW10gfT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgdGVtcGxhdGUgPSBhd2FpdCB0aGlzLmZpbmRCeU5hbWUobmFtZSk7XHJcbiAgICAgIGNvbnN0IGhhbmRsZWJhcnMgPSByZXF1aXJlKCdoYW5kbGViYXJzJyk7XHJcbiAgICAgIGhhbmRsZWJhcnMuY29tcGlsZSh0ZW1wbGF0ZS5jb250ZW50KShjb250ZXh0KTtcclxuXHJcbiAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHZhbGlkOiBmYWxzZSxcclxuICAgICAgICBlcnJvcnM6IFtlcnJvci5tZXNzYWdlXSxcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIHNlZWREZWZhdWx0VGVtcGxhdGVzKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgY29uc3QgZGVmYXVsdFRlbXBsYXRlcyA9IFtcclxuICAgICAge1xyXG4gICAgICAgIG5hbWU6ICd3ZWxjb21lJyxcclxuICAgICAgICBzdWJqZWN0OiAnV2VsY29tZSB0byBPdXIgUGxhdGZvcm0nLFxyXG4gICAgICAgIGNvbnRlbnQ6IHRoaXMuZ2V0RGVmYXVsdFdlbGNvbWVUZW1wbGF0ZSgpLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnU2VudCB0byBuZXcgdXNlcnMgYWZ0ZXIgcmVnaXN0cmF0aW9uJyxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIG5hbWU6ICdyZXNldC1wYXNzd29yZCcsXHJcbiAgICAgICAgc3ViamVjdDogJ1Jlc2V0IFlvdXIgUGFzc3dvcmQnLFxyXG4gICAgICAgIGNvbnRlbnQ6IHRoaXMuZ2V0RGVmYXVsdFJlc2V0UGFzc3dvcmRUZW1wbGF0ZSgpLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnU2VudCB3aGVuIGEgdXNlciByZXF1ZXN0cyBhIHBhc3N3b3JkIHJlc2V0JyxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIG5hbWU6ICdlbWFpbC12ZXJpZmljYXRpb24nLFxyXG4gICAgICAgIHN1YmplY3Q6ICdWZXJpZnkgWW91ciBFbWFpbCBBZGRyZXNzJyxcclxuICAgICAgICBjb250ZW50OiB0aGlzLmdldERlZmF1bHRWZXJpZmljYXRpb25UZW1wbGF0ZSgpLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlNlbnQgdG8gdmVyaWZ5IGEgdXNlcidzIGVtYWlsIGFkZHJlc3NcIixcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIG5hbWU6ICdjb3Vyc2UtZW5yb2xsbWVudCcsXHJcbiAgICAgICAgc3ViamVjdDogJ0NvdXJzZSBFbnJvbGxtZW50IENvbmZpcm1hdGlvbicsXHJcbiAgICAgICAgY29udGVudDogdGhpcy5nZXREZWZhdWx0Q291cnNlRW5yb2xsbWVudFRlbXBsYXRlKCksXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdTZW50IHdoZW4gYSB1c2VyIGVucm9sbHMgaW4gYSBjb3Vyc2UnLFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogJ2NvdXJzZS1jb21wbGV0aW9uJyxcclxuICAgICAgICBzdWJqZWN0OiAnQ291cnNlIENvbXBsZXRpb24gQ2VydGlmaWNhdGUnLFxyXG4gICAgICAgIGNvbnRlbnQ6IHRoaXMuZ2V0RGVmYXVsdENvdXJzZUNvbXBsZXRpb25UZW1wbGF0ZSgpLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnU2VudCB3aGVuIGEgdXNlciBjb21wbGV0ZXMgYSBjb3Vyc2UnLFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgbmFtZTogJ2ZvcnVtLW5vdGlmaWNhdGlvbicsXHJcbiAgICAgICAgc3ViamVjdDogJ0ZvcnVtIE5vdGlmaWNhdGlvbicsXHJcbiAgICAgICAgY29udGVudDogdGhpcy5nZXREZWZhdWx0Rm9ydW1Ob3RpZmljYXRpb25UZW1wbGF0ZSgpLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnU2VudCBmb3IgZm9ydW0gYWN0aXZpdHkgbm90aWZpY2F0aW9ucycsXHJcbiAgICAgIH0sXHJcbiAgICBdO1xyXG5cclxuICAgIGZvciAoY29uc3QgdGVtcGxhdGUgb2YgZGVmYXVsdFRlbXBsYXRlcykge1xyXG4gICAgICBjb25zdCBleGlzdGluZyA9IGF3YWl0IHRoaXMuZW1haWxUZW1wbGF0ZVJlcG9zaXRvcnkuZmluZE9uZSh7XHJcbiAgICAgICAgd2hlcmU6IHsgbmFtZTogdGVtcGxhdGUubmFtZSB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmICghZXhpc3RpbmcpIHtcclxuICAgICAgICBhd2FpdCB0aGlzLmNyZWF0ZSh0ZW1wbGF0ZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0RGVmYXVsdFdlbGNvbWVUZW1wbGF0ZSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGA8IURPQ1RZUEUgaHRtbD5cclxuPGh0bWw+XHJcbjxoZWFkPlxyXG4gIDxtZXRhIGNoYXJzZXQ9XCJ1dGYtOFwiPlxyXG4gIDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wXCI+XHJcbiAgPHRpdGxlPldlbGNvbWUgdG8gT3VyIFBsYXRmb3JtPC90aXRsZT5cclxuICA8c3R5bGU+XHJcbiAgICBib2R5IHtcclxuICAgICAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xyXG4gICAgICBsaW5lLWhlaWdodDogMS42O1xyXG4gICAgICBjb2xvcjogIzMzMztcclxuICAgICAgbWFyZ2luOiAwO1xyXG4gICAgICBwYWRkaW5nOiAwO1xyXG4gICAgfVxyXG4gICAgLmNvbnRhaW5lciB7XHJcbiAgICAgIG1heC13aWR0aDogNjAwcHg7XHJcbiAgICAgIG1hcmdpbjogMCBhdXRvO1xyXG4gICAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgfVxyXG4gICAgLmhlYWRlciB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7XHJcbiAgICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlOWVjZWY7XHJcbiAgICB9XHJcbiAgICAuY29udGVudCB7XHJcbiAgICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICB9XHJcbiAgICAuZm9vdGVyIHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTtcclxuICAgICAgcGFkZGluZzogMjBweDtcclxuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICAgIGNvbG9yOiAjNmM3NTdkO1xyXG4gICAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2U5ZWNlZjtcclxuICAgIH1cclxuICAgIC5idXR0b24ge1xyXG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDdiZmY7XHJcbiAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gICAgICBwYWRkaW5nOiAxMHB4IDIwcHg7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgbWFyZ2luLXRvcDogMjBweDtcclxuICAgIH1cclxuICA8L3N0eWxlPlxyXG48L2hlYWQ+XHJcbjxib2R5PlxyXG4gIDxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJoZWFkZXJcIj5cclxuICAgICAgPGgxPldlbGNvbWUgdG8gT3VyIFBsYXRmb3JtPC9oMT5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cclxuICAgICAgPHA+SGVsbG8ge3tuYW1lfX0sPC9wPlxyXG4gICAgICA8cD5UaGFuayB5b3UgZm9yIGpvaW5pbmcgb3VyIHBsYXRmb3JtISBXZSdyZSBleGNpdGVkIHRvIGhhdmUgeW91IG9uIGJvYXJkLjwvcD5cclxuICAgICAgPHA+WW91ciBhY2NvdW50IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBjcmVhdGVkIGFuZCB5b3UgY2FuIG5vdyBzdGFydCB1c2luZyBvdXIgc2VydmljZXMuPC9wPlxyXG4gICAgICA8cD5cclxuICAgICAgICA8YSBocmVmPVwie3tsb2dpblVybH19XCIgY2xhc3M9XCJidXR0b25cIj5Mb2dpbiB0byBZb3VyIEFjY291bnQ8L2E+XHJcbiAgICAgIDwvcD5cclxuICAgICAgPHA+SWYgeW91IGhhdmUgYW55IHF1ZXN0aW9ucywgZmVlbCBmcmVlIHRvIGNvbnRhY3Qgb3VyIHN1cHBvcnQgdGVhbS48L3A+XHJcbiAgICAgIDxwPkJlc3QgcmVnYXJkcyw8YnI+VGhlIFRlYW08L3A+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJmb290ZXJcIj5cclxuICAgICAgPHA+wqkge3t5ZWFyfX0gT3VyIENvbXBhbnkuIEFsbCByaWdodHMgcmVzZXJ2ZWQuPC9wPlxyXG4gICAgICA8cD5cclxuICAgICAgICA8YSBocmVmPVwie3t1bnN1YnNjcmliZVVybH19XCI+VW5zdWJzY3JpYmU8L2E+IGZyb20gdGhlc2UgZW1haWxzLlxyXG4gICAgICA8L3A+XHJcbiAgICA8L2Rpdj5cclxuICA8L2Rpdj5cclxuPC9ib2R5PlxyXG48L2h0bWw+YDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0RGVmYXVsdFJlc2V0UGFzc3dvcmRUZW1wbGF0ZSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGA8IURPQ1RZUEUgaHRtbD5cclxuPGh0bWw+XHJcbjxoZWFkPlxyXG4gIDxtZXRhIGNoYXJzZXQ9XCJ1dGYtOFwiPlxyXG4gIDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wXCI+XHJcbiAgPHRpdGxlPlJlc2V0IFlvdXIgUGFzc3dvcmQ8L3RpdGxlPlxyXG4gIDxzdHlsZT5cclxuICAgIGJvZHkge1xyXG4gICAgICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7XHJcbiAgICAgIGxpbmUtaGVpZ2h0OiAxLjY7XHJcbiAgICAgIGNvbG9yOiAjMzMzO1xyXG4gICAgICBtYXJnaW46IDA7XHJcbiAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICB9XHJcbiAgICAuY29udGFpbmVyIHtcclxuICAgICAgbWF4LXdpZHRoOiA2MDBweDtcclxuICAgICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICB9XHJcbiAgICAuaGVhZGVyIHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTtcclxuICAgICAgcGFkZGluZzogMjBweDtcclxuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U5ZWNlZjtcclxuICAgIH1cclxuICAgIC5jb250ZW50IHtcclxuICAgICAgcGFkZGluZzogMjBweDtcclxuICAgIH1cclxuICAgIC5mb290ZXIge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO1xyXG4gICAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgICAgY29sb3I6ICM2Yzc1N2Q7XHJcbiAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZTllY2VmO1xyXG4gICAgfVxyXG4gICAgLmJ1dHRvbiB7XHJcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwN2JmZjtcclxuICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgICAgIHBhZGRpbmc6IDEwcHggMjBweDtcclxuICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgICBtYXJnaW4tdG9wOiAyMHB4O1xyXG4gICAgfVxyXG4gICAgLmNvZGUge1xyXG4gICAgICBmb250LWZhbWlseTogbW9ub3NwYWNlO1xyXG4gICAgICBmb250LXNpemU6IDI0cHg7XHJcbiAgICAgIGxldHRlci1zcGFjaW5nOiAycHg7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7XHJcbiAgICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgbWFyZ2luOiAyMHB4IDA7XHJcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIH1cclxuICA8L3N0eWxlPlxyXG48L2hlYWQ+XHJcbjxib2R5PlxyXG4gIDxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJoZWFkZXJcIj5cclxuICAgICAgPGgxPlJlc2V0IFlvdXIgUGFzc3dvcmQ8L2gxPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxyXG4gICAgICA8cD5IZWxsbyw8L3A+XHJcbiAgICAgIDxwPldlIHJlY2VpdmVkIGEgcmVxdWVzdCB0byByZXNldCB5b3VyIHBhc3N3b3JkLiBJZiB5b3UgZGlkbid0IG1ha2UgdGhpcyByZXF1ZXN0LCB5b3UgY2FuIHNhZmVseSBpZ25vcmUgdGhpcyBlbWFpbC48L3A+XHJcbiAgICAgIDxwPlRvIHJlc2V0IHlvdXIgcGFzc3dvcmQsIGNsaWNrIHRoZSBidXR0b24gYmVsb3c6PC9wPlxyXG4gICAgICA8cD5cclxuICAgICAgICA8YSBocmVmPVwie3tyZXNldFVybH19XCIgY2xhc3M9XCJidXR0b25cIj5SZXNldCBQYXNzd29yZDwvYT5cclxuICAgICAgPC9wPlxyXG4gICAgICA8cD5PciB1c2UgdGhpcyBjb2RlOjwvcD5cclxuICAgICAgPGRpdiBjbGFzcz1cImNvZGVcIj57e3Jlc2V0Q29kZX19PC9kaXY+XHJcbiAgICAgIDxwPlRoaXMgbGluayBhbmQgY29kZSB3aWxsIGV4cGlyZSBpbiB7e2V4cGlyeVRpbWV9fSBob3Vycy48L3A+XHJcbiAgICAgIDxwPkJlc3QgcmVnYXJkcyw8YnI+VGhlIFRlYW08L3A+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJmb290ZXJcIj5cclxuICAgICAgPHA+wqkge3t5ZWFyfX0gT3VyIENvbXBhbnkuIEFsbCByaWdodHMgcmVzZXJ2ZWQuPC9wPlxyXG4gICAgICA8cD5JZiB5b3UgZGlkbid0IHJlcXVlc3QgdGhpcyBwYXNzd29yZCByZXNldCwgcGxlYXNlIGNvbnRhY3Qgb3VyIHN1cHBvcnQgdGVhbSBpbW1lZGlhdGVseS48L3A+XHJcbiAgICA8L2Rpdj5cclxuICA8L2Rpdj5cclxuPC9ib2R5PlxyXG48L2h0bWw+YDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0RGVmYXVsdFZlcmlmaWNhdGlvblRlbXBsYXRlKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYDwhRE9DVFlQRSBodG1sPlxyXG48aHRtbD5cclxuPGhlYWQ+XHJcbiAgPG1ldGEgY2hhcnNldD1cInV0Zi04XCI+XHJcbiAgPG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjBcIj5cclxuICA8dGl0bGU+VmVyaWZ5IFlvdXIgRW1haWwgQWRkcmVzczwvdGl0bGU+XHJcbiAgPHN0eWxlPlxyXG4gICAgYm9keSB7XHJcbiAgICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcclxuICAgICAgbGluZS1oZWlnaHQ6IDEuNjtcclxuICAgICAgY29sb3I6ICMzMzM7XHJcbiAgICAgIG1hcmdpbjogMDtcclxuICAgICAgcGFkZGluZzogMDtcclxuICAgIH1cclxuICAgIC5jb250YWluZXIge1xyXG4gICAgICBtYXgtd2lkdGg6IDYwMHB4O1xyXG4gICAgICBtYXJnaW46IDAgYXV0bztcclxuICAgICAgcGFkZGluZzogMjBweDtcclxuICAgIH1cclxuICAgIC5oZWFkZXIge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO1xyXG4gICAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTllY2VmO1xyXG4gICAgfVxyXG4gICAgLmNvbnRlbnQge1xyXG4gICAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgfVxyXG4gICAgLmZvb3RlciB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7XHJcbiAgICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgICBjb2xvcjogIzZjNzU3ZDtcclxuICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlOWVjZWY7XHJcbiAgICB9XHJcbiAgICAuYnV0dG9uIHtcclxuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YmZmO1xyXG4gICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICAgICAgcGFkZGluZzogMTBweCAyMHB4O1xyXG4gICAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICAgIG1hcmdpbi10b3A6IDIwcHg7XHJcbiAgICB9XHJcbiAgICAudmVyaWZpY2F0aW9uLWNvZGUge1xyXG4gICAgICBmb250LWZhbWlseTogbW9ub3NwYWNlO1xyXG4gICAgICBmb250LXNpemU6IDI0cHg7XHJcbiAgICAgIGxldHRlci1zcGFjaW5nOiAycHg7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7XHJcbiAgICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgbWFyZ2luOiAyMHB4IDA7XHJcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIH1cclxuICA8L3N0eWxlPlxyXG48L2hlYWQ+XHJcbjxib2R5PlxyXG4gIDxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJoZWFkZXJcIj5cclxuICAgICAgPGgxPlZlcmlmeSBZb3VyIEVtYWlsIEFkZHJlc3M8L2gxPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxyXG4gICAgICA8cD5IZWxsbyB7e25hbWV9fSw8L3A+XHJcbiAgICAgIDxwPlRoYW5rIHlvdSBmb3Igc2lnbmluZyB1cCEgVG8gY29tcGxldGUgeW91ciByZWdpc3RyYXRpb24sIHBsZWFzZSB2ZXJpZnkgeW91ciBlbWFpbCBhZGRyZXNzIGJ5IGNsaWNraW5nIHRoZSBidXR0b24gYmVsb3c6PC9wPlxyXG4gICAgICA8cD5cclxuICAgICAgICA8YSBocmVmPVwie3t2ZXJpZmljYXRpb25Vcmx9fVwiIGNsYXNzPVwiYnV0dG9uXCI+VmVyaWZ5IEVtYWlsIEFkZHJlc3M8L2E+XHJcbiAgICAgIDwvcD5cclxuICAgICAgPHA+T3IgZW50ZXIgdGhpcyB2ZXJpZmljYXRpb24gY29kZSBvbiB0aGUgdmVyaWZpY2F0aW9uIHBhZ2U6PC9wPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwidmVyaWZpY2F0aW9uLWNvZGVcIj57e3ZlcmlmaWNhdGlvbkNvZGV9fTwvZGl2PlxyXG4gICAgICA8cD5UaGlzIHZlcmlmaWNhdGlvbiBsaW5rIGFuZCBjb2RlIHdpbGwgZXhwaXJlIGluIHt7ZXhwaXJ5VGltZX19IGhvdXJzLjwvcD5cclxuICAgICAgPHA+SWYgeW91IGRpZG4ndCBjcmVhdGUgYW4gYWNjb3VudCwgeW91IGNhbiBzYWZlbHkgaWdub3JlIHRoaXMgZW1haWwuPC9wPlxyXG4gICAgICA8cD5CZXN0IHJlZ2FyZHMsPGJyPlRoZSBUZWFtPC9wPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwiZm9vdGVyXCI+XHJcbiAgICAgIDxwPsKpIHt7eWVhcn19IE91ciBDb21wYW55LiBBbGwgcmlnaHRzIHJlc2VydmVkLjwvcD5cclxuICAgICAgPHA+XHJcbiAgICAgICAgPGEgaHJlZj1cInt7dW5zdWJzY3JpYmVVcmx9fVwiPlVuc3Vic2NyaWJlPC9hPiBmcm9tIHRoZXNlIGVtYWlscy5cclxuICAgICAgPC9wPlxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbjwvYm9keT5cclxuPC9odG1sPmA7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldERlZmF1bHRDb3Vyc2VFbnJvbGxtZW50VGVtcGxhdGUoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBgPCFET0NUWVBFIGh0bWw+XHJcbjxodG1sPlxyXG48aGVhZD5cclxuICA8bWV0YSBjaGFyc2V0PVwidXRmLThcIj5cclxuICA8bWV0YSBuYW1lPVwidmlld3BvcnRcIiBjb250ZW50PVwid2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMFwiPlxyXG4gIDx0aXRsZT5Db3Vyc2UgRW5yb2xsbWVudCBDb25maXJtYXRpb248L3RpdGxlPlxyXG4gIDxzdHlsZT5cclxuICAgIGJvZHkge1xyXG4gICAgICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7XHJcbiAgICAgIGxpbmUtaGVpZ2h0OiAxLjY7XHJcbiAgICAgIGNvbG9yOiAjMzMzO1xyXG4gICAgICBtYXJnaW46IDA7XHJcbiAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICB9XHJcbiAgICAuY29udGFpbmVyIHtcclxuICAgICAgbWF4LXdpZHRoOiA2MDBweDtcclxuICAgICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICB9XHJcbiAgICAuaGVhZGVyIHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTtcclxuICAgICAgcGFkZGluZzogMjBweDtcclxuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U5ZWNlZjtcclxuICAgIH1cclxuICAgIC5jb250ZW50IHtcclxuICAgICAgcGFkZGluZzogMjBweDtcclxuICAgIH1cclxuICAgIC5mb290ZXIge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO1xyXG4gICAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgICAgY29sb3I6ICM2Yzc1N2Q7XHJcbiAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZTllY2VmO1xyXG4gICAgfVxyXG4gICAgLmJ1dHRvbiB7XHJcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwN2JmZjtcclxuICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgICAgIHBhZGRpbmc6IDEwcHggMjBweDtcclxuICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgICBtYXJnaW4tdG9wOiAyMHB4O1xyXG4gICAgfVxyXG4gICAgLmNvdXJzZS1pbmZvIHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTtcclxuICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgICBwYWRkaW5nOiAxNXB4O1xyXG4gICAgICBtYXJnaW46IDIwcHggMDtcclxuICAgIH1cclxuICAgIC5jb3Vyc2UtdGl0bGUge1xyXG4gICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgfVxyXG4gICAgLmNvdXJzZS1kZXRhaWxzIHtcclxuICAgICAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG4gICAgfVxyXG4gIDwvc3R5bGU+XHJcbjwvaGVhZD5cclxuPGJvZHk+XHJcbiAgPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPlxyXG4gICAgPGRpdiBjbGFzcz1cImhlYWRlclwiPlxyXG4gICAgICA8aDE+Q291cnNlIEVucm9sbG1lbnQgQ29uZmlybWF0aW9uPC9oMT5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cclxuICAgICAgPHA+SGVsbG8ge3tuYW1lfX0sPC9wPlxyXG4gICAgICA8cD5Db25ncmF0dWxhdGlvbnMhIFlvdSBoYXZlIHN1Y2Nlc3NmdWxseSBlbnJvbGxlZCBpbiB0aGUgZm9sbG93aW5nIGNvdXJzZTo8L3A+XHJcbiAgICAgIFxyXG4gICAgICA8ZGl2IGNsYXNzPVwiY291cnNlLWluZm9cIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY291cnNlLXRpdGxlXCI+e3tjb3Vyc2VOYW1lfX08L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY291cnNlLWRldGFpbHNcIj48c3Ryb25nPkluc3RydWN0b3I6PC9zdHJvbmc+IHt7aW5zdHJ1Y3Rvck5hbWV9fTwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb3Vyc2UtZGV0YWlsc1wiPjxzdHJvbmc+U3RhcnQgRGF0ZTo8L3N0cm9uZz4ge3tzdGFydERhdGV9fTwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb3Vyc2UtZGV0YWlsc1wiPjxzdHJvbmc+RHVyYXRpb246PC9zdHJvbmc+IHt7ZHVyYXRpb259fTwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgXHJcbiAgICAgIDxwPllvdSBjYW4gYWNjZXNzIHlvdXIgY291cnNlIG1hdGVyaWFscyBieSBjbGlja2luZyB0aGUgYnV0dG9uIGJlbG93OjwvcD5cclxuICAgICAgPHA+XHJcbiAgICAgICAgPGEgaHJlZj1cInt7Y291cnNlVXJsfX1cIiBjbGFzcz1cImJ1dHRvblwiPkFjY2VzcyBDb3Vyc2U8L2E+XHJcbiAgICAgIDwvcD5cclxuICAgICAgXHJcbiAgICAgIDxwPklmIHlvdSBoYXZlIGFueSBxdWVzdGlvbnMgYWJvdXQgdGhlIGNvdXJzZSwgcGxlYXNlIGRvbid0IGhlc2l0YXRlIHRvIGNvbnRhY3Qgb3VyIHN1cHBvcnQgdGVhbS48L3A+XHJcbiAgICAgIDxwPldlIHdpc2ggeW91IHN1Y2Nlc3MgaW4geW91ciBsZWFybmluZyBqb3VybmV5ITwvcD5cclxuICAgICAgPHA+QmVzdCByZWdhcmRzLDxicj5UaGUgRWR1Y2F0aW9uIFRlYW08L3A+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJmb290ZXJcIj5cclxuICAgICAgPHA+wqkge3t5ZWFyfX0gT3VyIENvbXBhbnkuIEFsbCByaWdodHMgcmVzZXJ2ZWQuPC9wPlxyXG4gICAgICA8cD5cclxuICAgICAgICA8YSBocmVmPVwie3t1bnN1YnNjcmliZVVybH19XCI+TWFuYWdlIGVtYWlsIHByZWZlcmVuY2VzPC9hPlxyXG4gICAgICA8L3A+XHJcbiAgICA8L2Rpdj5cclxuICA8L2Rpdj5cclxuPC9ib2R5PlxyXG48L2h0bWw+YDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0RGVmYXVsdENvdXJzZUNvbXBsZXRpb25UZW1wbGF0ZSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGA8IURPQ1RZUEUgaHRtbD5cclxuPGh0bWw+XHJcbjxoZWFkPlxyXG4gIDxtZXRhIGNoYXJzZXQ9XCJ1dGYtOFwiPlxyXG4gIDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wXCI+XHJcbiAgPHRpdGxlPkNvdXJzZSBDb21wbGV0aW9uIENlcnRpZmljYXRlPC90aXRsZT5cclxuICA8c3R5bGU+XHJcbiAgICBib2R5IHtcclxuICAgICAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xyXG4gICAgICBsaW5lLWhlaWdodDogMS42O1xyXG4gICAgICBjb2xvcjogIzMzMztcclxuICAgICAgbWFyZ2luOiAwO1xyXG4gICAgICBwYWRkaW5nOiAwO1xyXG4gICAgfVxyXG4gICAgLmNvbnRhaW5lciB7XHJcbiAgICAgIG1heC13aWR0aDogNjAwcHg7XHJcbiAgICAgIG1hcmdpbjogMCBhdXRvO1xyXG4gICAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgfVxyXG4gICAgLmhlYWRlciB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7XHJcbiAgICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlOWVjZWY7XHJcbiAgICB9XHJcbiAgICAuY29udGVudCB7XHJcbiAgICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICB9XHJcbiAgICAuZm9vdGVyIHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTtcclxuICAgICAgcGFkZGluZzogMjBweDtcclxuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICAgIGNvbG9yOiAjNmM3NTdkO1xyXG4gICAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2U5ZWNlZjtcclxuICAgIH1cclxuICAgIC5idXR0b24ge1xyXG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDdiZmY7XHJcbiAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gICAgICBwYWRkaW5nOiAxMHB4IDIwcHg7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgbWFyZ2luLXRvcDogMjBweDtcclxuICAgIH1cclxuICAgIC5jZXJ0aWZpY2F0ZSB7XHJcbiAgICAgIGJvcmRlcjogMnB4IHNvbGlkICMwMDdiZmY7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICAgICAgcGFkZGluZzogMjBweDtcclxuICAgICAgbWFyZ2luOiAyMHB4IDA7XHJcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTtcclxuICAgIH1cclxuICAgIC5jZXJ0aWZpY2F0ZS10aXRsZSB7XHJcbiAgICAgIGZvbnQtc2l6ZTogMjRweDtcclxuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XHJcbiAgICAgIGNvbG9yOiAjMDA3YmZmO1xyXG4gICAgfVxyXG4gICAgLmNlcnRpZmljYXRlLXRleHQge1xyXG4gICAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgICB9XHJcbiAgICAuY2VydGlmaWNhdGUtY291cnNlIHtcclxuICAgICAgZm9udC1zaXplOiAyMHB4O1xyXG4gICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgICAgbWFyZ2luOiAxNXB4IDA7XHJcbiAgICB9XHJcbiAgICAuY2VydGlmaWNhdGUtZGF0ZSB7XHJcbiAgICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcclxuICAgICAgbWFyZ2luLXRvcDogMTVweDtcclxuICAgIH1cclxuICA8L3N0eWxlPlxyXG48L2hlYWQ+XHJcbjxib2R5PlxyXG4gIDxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJoZWFkZXJcIj5cclxuICAgICAgPGgxPkNvbmdyYXR1bGF0aW9ucyBvbiBDb21wbGV0aW5nIFlvdXIgQ291cnNlITwvaDE+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XHJcbiAgICAgIDxwPkhlbGxvIHt7bmFtZX19LDwvcD5cclxuICAgICAgPHA+Q29uZ3JhdHVsYXRpb25zIG9uIHN1Y2Nlc3NmdWxseSBjb21wbGV0aW5nIHRoZSBjb3Vyc2UgXCJ7e2NvdXJzZU5hbWV9fVwiISBXZSdyZSBwcm91ZCBvZiB5b3VyIGRlZGljYXRpb24gYW5kIGhhcmQgd29yay48L3A+XHJcbiAgICAgIFxyXG4gICAgICA8ZGl2IGNsYXNzPVwiY2VydGlmaWNhdGVcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2VydGlmaWNhdGUtdGl0bGVcIj5DZXJ0aWZpY2F0ZSBvZiBDb21wbGV0aW9uPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNlcnRpZmljYXRlLXRleHRcIj5UaGlzIGNlcnRpZmllcyB0aGF0PC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNlcnRpZmljYXRlLXRleHRcIj48c3Ryb25nPnt7bmFtZX19PC9zdHJvbmc+PC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNlcnRpZmljYXRlLXRleHRcIj5oYXMgc3VjY2Vzc2Z1bGx5IGNvbXBsZXRlZDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjZXJ0aWZpY2F0ZS1jb3Vyc2VcIj57e2NvdXJzZU5hbWV9fTwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjZXJ0aWZpY2F0ZS10ZXh0XCI+d2l0aCBhIHNjb3JlIG9mIHt7c2NvcmV9fSU8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2VydGlmaWNhdGUtZGF0ZVwiPkNvbXBsZXRlZCBvbiB7e2NvbXBsZXRpb25EYXRlfX08L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIFxyXG4gICAgICA8cD5Zb3UgY2FuIGRvd25sb2FkIHlvdXIgb2ZmaWNpYWwgY2VydGlmaWNhdGUgYW5kIHNoYXJlIHlvdXIgYWNoaWV2ZW1lbnQgYnkgY2xpY2tpbmcgdGhlIGJ1dHRvbiBiZWxvdzo8L3A+XHJcbiAgICAgIDxwPlxyXG4gICAgICAgIDxhIGhyZWY9XCJ7e2NlcnRpZmljYXRlVXJsfX1cIiBjbGFzcz1cImJ1dHRvblwiPkRvd25sb2FkIENlcnRpZmljYXRlPC9hPlxyXG4gICAgICA8L3A+XHJcbiAgICAgIFxyXG4gICAgICA8cD5XZSBob3BlIHlvdSBlbmpveWVkIHRoZSBjb3Vyc2UgYW5kIGZvdW5kIGl0IHZhbHVhYmxlLiBDaGVjayBvdXQgb3VyIG90aGVyIGNvdXJzZXMgdGhhdCBtaWdodCBpbnRlcmVzdCB5b3U6PC9wPlxyXG4gICAgICA8cD5cclxuICAgICAgICA8YSBocmVmPVwie3tjb3Vyc2VDYXRhbG9nVXJsfX1cIiBjbGFzcz1cImJ1dHRvblwiPkV4cGxvcmUgTW9yZSBDb3Vyc2VzPC9hPlxyXG4gICAgICA8L3A+XHJcbiAgICAgIFxyXG4gICAgICA8cD5CZXN0IHJlZ2FyZHMsPGJyPlRoZSBFZHVjYXRpb24gVGVhbTwvcD5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cImZvb3RlclwiPlxyXG4gICAgICA8cD7CqSB7e3llYXJ9fSBPdXIgQ29tcGFueS4gQWxsIHJpZ2h0cyByZXNlcnZlZC48L3A+XHJcbiAgICAgIDxwPlxyXG4gICAgICAgIDxhIGhyZWY9XCJ7e3Vuc3Vic2NyaWJlVXJsfX1cIj5NYW5hZ2UgZW1haWwgcHJlZmVyZW5jZXM8L2E+XHJcbiAgICAgIDwvcD5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG48L2JvZHk+XHJcbjwvaHRtbD5gO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXREZWZhdWx0Rm9ydW1Ob3RpZmljYXRpb25UZW1wbGF0ZSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGA8IURPQ1RZUEUgaHRtbD5cclxuPGh0bWw+XHJcbjxoZWFkPlxyXG4gIDxtZXRhIGNoYXJzZXQ9XCJ1dGYtOFwiPlxyXG4gIDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wXCI+XHJcbiAgPHRpdGxlPkZvcnVtIE5vdGlmaWNhdGlvbjwvdGl0bGU+XHJcbiAgPHN0eWxlPlxyXG4gICAgYm9keSB7XHJcbiAgICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcclxuICAgICAgbGluZS1oZWlnaHQ6IDEuNjtcclxuICAgICAgY29sb3I6ICMzMzM7XHJcbiAgICAgIG1hcmdpbjogMDtcclxuICAgICAgcGFkZGluZzogMDtcclxuICAgIH1cclxuICAgIC5jb250YWluZXIge1xyXG4gICAgICBtYXgtd2lkdGg6IDYwMHB4O1xyXG4gICAgICBtYXJnaW46IDAgYXV0bztcclxuICAgICAgcGFkZGluZzogMjBweDtcclxuICAgIH1cclxuICAgIC5oZWFkZXIge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO1xyXG4gICAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTllY2VmO1xyXG4gICAgfVxyXG4gICAgLmNvbnRlbnQge1xyXG4gICAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgfVxyXG4gICAgLmZvb3RlciB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7XHJcbiAgICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgICBjb2xvcjogIzZjNzU3ZDtcclxuICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlOWVjZWY7XHJcbiAgICB9XHJcbiAgICAuYnV0dG9uIHtcclxuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YmZmO1xyXG4gICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICAgICAgcGFkZGluZzogMTBweCAyMHB4O1xyXG4gICAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICAgIG1hcmdpbi10b3A6IDIwcHg7XHJcbiAgICB9XHJcbiAgICAuZm9ydW0tcG9zdCB7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7XHJcbiAgICAgIGJvcmRlci1sZWZ0OiA0cHggc29saWQgIzAwN2JmZjtcclxuICAgICAgcGFkZGluZzogMTVweDtcclxuICAgICAgbWFyZ2luOiAyMHB4IDA7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IDAgNHB4IDRweCAwO1xyXG4gICAgfVxyXG4gICAgLnBvc3QtYXV0aG9yIHtcclxuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgIG1hcmdpbi1ib3R0b206IDVweDtcclxuICAgIH1cclxuICAgIC5wb3N0LWRhdGUge1xyXG4gICAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICAgIGNvbG9yOiAjNmM3NTdkO1xyXG4gICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgfVxyXG4gICAgLnBvc3QtY29udGVudCB7XHJcbiAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgICB9XHJcbiAgICAubm90aWZpY2F0aW9uLXR5cGUge1xyXG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDdiZmY7XHJcbiAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgcGFkZGluZzogM3B4IDhweDtcclxuICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgICB9XHJcbiAgPC9zdHlsZT5cclxuPC9oZWFkPlxyXG48Ym9keT5cclxuICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XHJcbiAgICAgIDxoMT5Gb3J1bSBOb3RpZmljYXRpb248L2gxPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxyXG4gICAgICA8cD5IZWxsbyB7e25hbWV9fSw8L3A+XHJcbiAgICAgIFxyXG4gICAgICA8ZGl2IGNsYXNzPVwibm90aWZpY2F0aW9uLXR5cGVcIj57e25vdGlmaWNhdGlvblR5cGV9fTwvZGl2PlxyXG4gICAgICBcclxuICAgICAgPHA+e3tub3RpZmljYXRpb25NZXNzYWdlfX08L3A+XHJcbiAgICAgIFxyXG4gICAgICA8ZGl2IGNsYXNzPVwiZm9ydW0tcG9zdFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJwb3N0LWF1dGhvclwiPnt7cG9zdEF1dGhvcn19PC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInBvc3QtZGF0ZVwiPnt7cG9zdERhdGV9fTwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJwb3N0LWNvbnRlbnRcIj57e3Bvc3RDb250ZW50fX08L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIFxyXG4gICAgICA8cD5cclxuICAgICAgICA8YSBocmVmPVwie3twb3N0VXJsfX1cIiBjbGFzcz1cImJ1dHRvblwiPlZpZXcgaW4gRm9ydW08L2E+XHJcbiAgICAgIDwvcD5cclxuICAgICAgXHJcbiAgICAgIDxwPkJlc3QgcmVnYXJkcyw8YnI+VGhlIEZvcnVtIFRlYW08L3A+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJmb290ZXJcIj5cclxuICAgICAgPHA+wqkge3t5ZWFyfX0gT3VyIENvbXBhbnkuIEFsbCByaWdodHMgcmVzZXJ2ZWQuPC9wPlxyXG4gICAgICA8cD5cclxuICAgICAgICA8YSBocmVmPVwie3t1bnN1YnNjcmliZVVybH19XCI+TWFuYWdlIG5vdGlmaWNhdGlvbiBwcmVmZXJlbmNlczwvYT5cclxuICAgICAgPC9wPlxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbjwvYm9keT5cclxuPC9odG1sPmA7XHJcbiAgfVxyXG59XHJcbiJdLCJ2ZXJzaW9uIjozfQ==